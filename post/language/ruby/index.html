<!DOCTYPE html>

<html lang="zh-cn">
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1">
<meta name="author" content="fatedier">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="description" content="Ruby 安装 - Linux 下面列出了在 Linux 机器上安装 Ruby 的步骤。
注意：在安装之前，请确保您有 root 权限。
源码安装 下载最新版的 Ruby 压缩文件。请点击这里下载。 下载 Ruby 之后，解压到新创建的目录下： $ tar -xvzf ruby-2.2.3.tgz
$ cd ruby-2.2.3 现在，配置并编译源代码，如下所示： $ ./configure $ make $ sudo make install 安装后，通过在命令行中输入以下命令来确保一切工作正常： $ruby -v ruby 2.2.3…… 如果一切工作正常，将会输出所安装的 Ruby 解释器的版本，如上所示。如果您安装了其他版本，则会显示其他不同的版本。
Ruby Gem命令详解：
//更新Gem自身 //注意：在某些linux发行版中为了系统稳定性此命令禁止执行 $ gem update &ndash;system
// 从Gem源安装gem包 $ gem install [gemname]
// 从本机安装gem包 $ gem install -l [gemname].gem
// 安装指定版本的gem包 $ gem install [gemname] &ndash;version=[ver]">
<meta property="og:url" content="https://kingjcy.github.io/"><meta property="og:type" content="article">
<meta property="og:title" content="Ruby - kingjcy blog"><meta property="og:site_name" content="kingjcy blog">

<title>
    
    Ruby
    
</title>

<link rel="stylesheet" href="/onlyone/onlyone.css">
<link rel="shortcut icon" href="/assets/favicon.ico">
<script src="/onlyone/onlyone.js"></script>
<link rel="alternate" type="application/rss+xml" title="RSS" href="/index.xml">
</head>
<body>


<div class="container">
    <header class="nav">
        <nav class="navbar navbar-default">
            <div class="container-fluid">
                <div class="navbar-header">
                    <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar-collapse">
                        <span class="sr-only">Toggle navigation</span>
                        <span class="icon-bar"></span>
                        <span class="icon-bar"></span>
                        <span class="icon-bar"></span>
                    </button>
                    <a class="navbar-brand" href="/">kingjcy blog</a>
                </div>

                <div class="collapse navbar-collapse" id="navbar-collapse">
                    <ul class="nav navbar-nav">
                        <li><a href="/categories/技术文章/">技术文章</a></li>
                        <li><a href="/categories/读书笔记/">读书笔记</a></li>
                        <li><a href="/categories/人生感悟/">人生感悟</a></li>
                        <li><a href="/tags/">分类</a></li>
                        <li><a href="/about/">关于我</a></li>
                        <li>
                            <form method="get" style="padding: 8px" action="https://www.google.com/search" target="_blank">
                                <input type="hidden" name="sitesearch" value="kingjcy.github.io"/>
                                <input type="text" class="form-control" name="q" placeholder="Press enter to search">
                            </form>
                        </li>
                    </ul>

                </div>
            </div>
        </nav>
    </header>


<div class="row">
    <div class="col-md-8">
        <article class="post single">

            <header>
                <div class="post-date">
                    2017年05月18日 
                </div>
                <h1 class="post-title">Ruby</h1>
            </header>

            <div class="post-content">
                

<p>Ruby 安装 - Linux
下面列出了在 Linux 机器上安装 Ruby 的步骤。</p>

<p>注意：在安装之前，请确保您有 root 权限。</p>

<p>源码安装
下载最新版的 Ruby 压缩文件。请点击这里下载。
下载 Ruby 之后，解压到新创建的目录下：
$ tar -xvzf ruby-2.2.3.tgz<br />
$ cd ruby-2.2.3
现在，配置并编译源代码，如下所示：
$ ./configure
$ make
$ sudo make install
安装后，通过在命令行中输入以下命令来确保一切工作正常：
$ruby -v
ruby 2.2.3……
如果一切工作正常，将会输出所安装的 Ruby 解释器的版本，如上所示。如果您安装了其他版本，则会显示其他不同的版本。</p>

<p>Ruby Gem命令详解：</p>

<p>//更新Gem自身
//注意：在某些linux发行版中为了系统稳定性此命令禁止执行
$ gem update &ndash;system</p>

<p>// 从Gem源安装gem包
$ gem install [gemname]</p>

<p>// 从本机安装gem包
$ gem install -l [gemname].gem</p>

<p>// 安装指定版本的gem包
$ gem install [gemname] &ndash;version=[ver]</p>

<p>// 更新所有已安装的gem包
$ gem update</p>

<p>// 更新指定的gem包
// 注意：gem update [gemname]不会升级旧版本的包，此时你可以使用 gem install [gemname] &ndash;version=[ver]代替
$ gem update [gemname]</p>

<p>// 删除指定的gem包，注意此命令将删除所有已安装的版本
$ gem uninstall [gemname]</p>

<p>// 删除某指定版本gem
$ gem uninstall [gemname] &ndash;version=[ver]</p>

<p>// 查看本机已安装的所有gem包
$ gem list [&ndash;local]</p>

<p>作者：Mklaus
链接：<a href="https://www.jianshu.com/p/728184da1699">https://www.jianshu.com/p/728184da1699</a>
來源：简书
著作权归作者所有。商业转载请联系作者获得授权，非商业转载请注明出处。</p>

<p>他告诉 bundler 默认是在Gemfile里指定的<a href="https://rubygems.org上来找">https://rubygems.org上来找</a> gem。如果你的一些 gem 需要从一个私有的 gem 服务器上获取，那么你可以为这些 gem 覆盖掉这个默认的源设置。</p>

<p>接着，你声明了一些依赖：</p>

<p>版本是4.1.0.rc2的rails
任意版本的rack-cache
版本是&gt;= 1.6.1但是&lt; 1.7.0的nokogiri
在你第一次声明完依赖后，你要告诉 bundler 去获取它们：</p>

<p>$ bundle install    # 也可以直接运行 &lsquo;bundle&rsquo;，相当于 &lsquo;bundle install&rsquo;
Bundler 会连接rubygems.org（或者其他你声明的源），然后列出所有你指定的符合你需要的 gem。因为所有你在Gemfile里的依赖有它们自己的依赖，所以基于上面的Gemfile运行bundle install会安装相当多的的 gem。</p>

<p>Rake，顾名思义，就是Ruby的Make工具。</p>

<p>Rake的特性
Rakefile就是rake版本的makefile文件，它使用的就是标准的ruby语法。不需要编辑XML文件，也不需要记忆古怪的makefile语法。
可以定义任务（task），并为任务定义依赖。
rake支持利用规则模式来合成隐式任务。
灵活的文件列表，可以像列表一样操作。
预置的库使得编写rakefile变得更加简单。
支持并行执行多个任务。</p>

<p>Bundle命令详解：</p>

<h1 id="显示所有的依赖包">显示所有的依赖包</h1>

<p>$ bundle show</p>

<h1 id="显示指定gem包的安装位置">显示指定gem包的安装位置</h1>

<p>$ bundle show [gemname]</p>

<h1 id="检查系统中缺少那些项目以来的gem包">检查系统中缺少那些项目以来的gem包</h1>

<h1 id="注-如果系统中存在所有项目以来的包-则会输出-the-gemfile-s-dependencies-are-satisfied">注：如果系统中存在所有项目以来的包，则会输出：The Gemfile&rsquo;s dependencies are satisfied</h1>

<p>$ bundle check</p>

<h1 id="安装项目依赖的所有gem包">安装项目依赖的所有gem包</h1>

<h1 id="注-此命令会尝试更新系统中已存在的gem包">注：此命令会尝试更新系统中已存在的gem包</h1>

<p>$ bundle install</p>

<h1 id="安装指定的gem包">安装指定的gem包</h1>

<p>$ bundle install [gemname]</p>

<h1 id="更新系统中存在的项目依赖包-并同时更新项目gemfile-lock文件">更新系统中存在的项目依赖包，并同时更新项目Gemfile.lock文件</h1>

<p>$ bundle update</p>

<h1 id="更新系统中指定的gem包信息-并同时更新项目gemfile-lock中指定的包信息">更新系统中指定的gem包信息，并同时更新项目Gemfile.lock中指定的包信息</h1>

<p>$ bundle update [gemname]</p>

<h1 id="向项目中添加新的gem包引用">向项目中添加新的gem包引用</h1>

<p>$ gem [gemname], [ver]</p>

<h1 id="你还可以指定包依赖关系">你还可以指定包依赖关系</h1>

<p>$ gem [gemname], :require =&gt; [dependence_gemname]</p>

<h1 id="你甚至还可以指定gem包的git源">你甚至还可以指定gem包的git源</h1>

<p>$ gem [gemname], :git =&gt; [git_source_url]</p>

<h1 id="锁定当前环境">锁定当前环境</h1>

<h1 id="可以使用bundle-lock来锁定当前环境-这样便不能通过bundle-update来更新依赖包的版本-保证了统一的环境">可以使用bundle lock来锁定当前环境，这样便不能通过bundle update来更新依赖包的版本，保证了统一的环境</h1>

<p>$ bundle lock</p>

<h1 id="解除锁定">解除锁定</h1>

<p>$ bundle unlock</p>

<h1 id="打包当装环境">打包当装环境</h1>

<h1 id="bundle-package会把当前所有信赖的包都放到-vendor-cache-目录下-发布时可用来保证包版本的一致性">bundle package会把当前所有信赖的包都放到 ./vendor/cache/ 目录下，发布时可用来保证包版本的一致性。</h1>

<p>$ bundle package</p>

<p>/usr/local/lib/ruby/gems/2.5.0/gems</p>

<p>1.
yum install zlib
yum install zlib-devel</p>

<p>安装zlib
cd /usr/src/ruby-2.4.1/ext/zlib
ruby extconf.rb
make
make install</p>

<p>重点是要添加参数 –with****</p>

<p>2
yum isstall openssl</p>

<p>在一些生产环境中，不允许连接外网。</p>

<p>而rails开发经常需要 更新和 安装新的gem包。怎么进行gem包的离线安装和更新？</p>

<p>用下面的命令来打包。</p>

<p>bundle package &ndash;all</p>

<p>相关 网站介绍 <a href="http://bundler.io/bundle_package.html">http://bundler.io/bundle_package.html</a></p>

<p>使用案例：</p>

<p>进入rails 项目，使用 bundle package &ndash;all 命令。将会把所有使用到得 gem 包 放入</p>

<p>vendor/cache</p>

<p>目录下。</p>

<p>然后复制到生产机环境。</p>

<p>在生产机环境下用</p>

<p>bundle install &ndash;local  # 本地安装gem</p>

<p>#或者</p>

<p>gem install vendor/cache/*</p>

<p>#或者再限制一下</p>

<p>gem install vendor/cache/*.gem</p>

<p>来安装本地的gem包</p>

            </div>
            
            <div style="border: 1px dashed #e0e0e0; margin-bottom: 15px; padding: 10px 10px 10px 10px; background-color: #fffeee; background-repeat: no-repeat; background-attachment: scroll; background-position: 1% 50%; -moz-background-size: auto auto; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;">
                <div>
                    <p style="margin-top:0px;">作者：<a target="_blank" href="http://blog.fatedier.com/">kingjcy</a>
                    <br />本文出处：<a target="_blank" href="https://kingjcy.github.io/post/language/ruby/">https://kingjcy.github.io/post/language/ruby/</a>
                    <br />
                    文章版权归本人所有，欢迎转载，但未经作者同意必须保留此段声明，且在文章页面明显位置给出原文链接，否则保留追究法律责任的权利。 </p>
                </div>
            </div>

            <aside>
                
                <ul class="list-inline post-tags">
                    
                    <li>
                        <a href="/tags//">
                            <i class="fa fa-tags"></i>
                            
                        </a>
                    </li>
                    
                </ul>

                
                
                <h4 id="real-rels">相关文章</h4>
                <ul class="post-rels" id="real-rels"><li id="li-rels"><a href="/post/golang/go-unsafe/">Go Unsafe</a>&nbsp;&nbsp;<span class="post-date" style="font-size:14px">&nbsp;(2019年12月25日)</span></li><li id="li-rels"><a href="/post/golang/go-text/">Go Text</a>&nbsp;&nbsp;<span class="post-date" style="font-size:14px">&nbsp;(2019年12月25日)</span></li><li id="li-rels"><a href="/post/golang/go-plugin/">Go Plugin</a>&nbsp;&nbsp;<span class="post-date" style="font-size:14px">&nbsp;(2019年12月25日)</span></li><li id="li-rels"><a href="/post/golang/go-mine/">Go Mine</a>&nbsp;&nbsp;<span class="post-date" style="font-size:14px">&nbsp;(2019年12月25日)</span></li><li id="li-rels"><a href="/post/golang/go-internal/">Go Internal</a>&nbsp;&nbsp;<span class="post-date" style="font-size:14px">&nbsp;(2019年12月25日)</span></li><li id="li-rels"><a href="/post/golang/go-index/">Go Index</a>&nbsp;&nbsp;<span class="post-date" style="font-size:14px">&nbsp;(2019年12月25日)</span></li><li id="li-rels"><a href="/post/golang/go-image/">Go Image</a>&nbsp;&nbsp;<span class="post-date" style="font-size:14px">&nbsp;(2019年12月25日)</span></li><li id="li-rels"><a href="/post/golang/go-html/">Go Html</a>&nbsp;&nbsp;<span class="post-date" style="font-size:14px">&nbsp;(2019年12月25日)</span></li><li id="li-rels"><a href="/post/golang/go-hash/">Go Hash</a>&nbsp;&nbsp;<span class="post-date" style="font-size:14px">&nbsp;(2019年12月25日)</span></li><li id="li-rels"><a href="/post/golang/go-go/">Go Go</a>&nbsp;&nbsp;<span class="post-date" style="font-size:14px">&nbsp;(2019年12月25日)</span></li></ul>
            </aside>
                
            
            <footer>
                <nav>
                    <ul class="pager">

                        
                        <li class="previous"><a href="/post/application/mac/"><span aria-hidden="true">&larr;</span> Prev</a></li>
                        

                        <li><a href="/post/">All Posts</a></li>

                        
                        <li class="next"><a href="/post/golang/go-error-summary/">Next <span aria-hidden="true">&rarr;</span></a></li>
                        

                    </ul>
                </nav>
            </footer>

        </article>
    </div>
    <div class="col-md-4">
        
<aside>
        <div class="toc panel panel-default hidden-xs hidden-sm affix-top" data-spy="affix" data-offset-top="125" data-offset-bottom="300">
            <div class="panel-heading">
                <h2 class="panel-title">Catalog</h2>
            </div>

            <nav id="TableOfContents">
<ul>
<li><a href="#显示所有的依赖包">显示所有的依赖包</a></li>
<li><a href="#显示指定gem包的安装位置">显示指定gem包的安装位置</a></li>
<li><a href="#检查系统中缺少那些项目以来的gem包">检查系统中缺少那些项目以来的gem包</a></li>
<li><a href="#注-如果系统中存在所有项目以来的包-则会输出-the-gemfile-s-dependencies-are-satisfied">注：如果系统中存在所有项目以来的包，则会输出：The Gemfile&rsquo;s dependencies are satisfied</a></li>
<li><a href="#安装项目依赖的所有gem包">安装项目依赖的所有gem包</a></li>
<li><a href="#注-此命令会尝试更新系统中已存在的gem包">注：此命令会尝试更新系统中已存在的gem包</a></li>
<li><a href="#安装指定的gem包">安装指定的gem包</a></li>
<li><a href="#更新系统中存在的项目依赖包-并同时更新项目gemfile-lock文件">更新系统中存在的项目依赖包，并同时更新项目Gemfile.lock文件</a></li>
<li><a href="#更新系统中指定的gem包信息-并同时更新项目gemfile-lock中指定的包信息">更新系统中指定的gem包信息，并同时更新项目Gemfile.lock中指定的包信息</a></li>
<li><a href="#向项目中添加新的gem包引用">向项目中添加新的gem包引用</a></li>
<li><a href="#你还可以指定包依赖关系">你还可以指定包依赖关系</a></li>
<li><a href="#你甚至还可以指定gem包的git源">你甚至还可以指定gem包的git源</a></li>
<li><a href="#锁定当前环境">锁定当前环境</a></li>
<li><a href="#可以使用bundle-lock来锁定当前环境-这样便不能通过bundle-update来更新依赖包的版本-保证了统一的环境">可以使用bundle lock来锁定当前环境，这样便不能通过bundle update来更新依赖包的版本，保证了统一的环境</a></li>
<li><a href="#解除锁定">解除锁定</a></li>
<li><a href="#打包当装环境">打包当装环境</a></li>
<li><a href="#bundle-package会把当前所有信赖的包都放到-vendor-cache-目录下-发布时可用来保证包版本的一致性">bundle package会把当前所有信赖的包都放到 ./vendor/cache/ 目录下，发布时可用来保证包版本的一致性。</a></li>
</ul>
</nav>
        </div>
</aside>

    </div>
</div>

</div>
<hr>

<footer class="container copy">
    <p>&copy; 2020  kingjcy blog </p>
	<p>Powered by <a href="https://gohugo.io" target="_blank">Hugo</a></p>
</footer>

<script>hljs.initHighlightingOnLoad();</script>

<script>
var _hmt = _hmt || [];
(function() {
  var hm = document.createElement("script");
  hm.src = "//hm.baidu.com/hm.js?ace3ec99de96c4080ead1eb8d52db3b3";
  var s = document.getElementsByTagName("script")[0]; 
  s.parentNode.insertBefore(hm, s);
})();
</script>

<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-92600390-2', 'auto');
  ga('send', 'pageview');
</script>
</body>
</html>


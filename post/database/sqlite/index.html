<!DOCTYPE html>

<html lang="zh-cn">
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1">
<meta name="author" content="fatedier">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="description" content="SQLite是一个进程内的库，实现了自给自足的、无服务器的、零配置的、事务性的 SQL 数据库引擎。它是一个零配置的数据库，这意味着与其他数据库一样，您不需要在系统中配置。">
<meta property="og:url" content="https://kingjcy.github.io/"><meta property="og:type" content="article">
<meta property="og:title" content="Sqlite - kingjcy blog"><meta property="og:site_name" content="kingjcy blog">

<title>
    
    Sqlite
    
</title>

<link rel="stylesheet" href="/onlyone/onlyone.css">
<link rel="shortcut icon" href="/assets/favicon.ico">
<script src="/onlyone/onlyone.js"></script>
<link rel="alternate" type="application/rss+xml" title="RSS" href="/index.xml">
</head>
<body>


<div class="container">
    <header class="nav">
        <nav class="navbar navbar-default">
            <div class="container-fluid">
                <div class="navbar-header">
                    <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar-collapse">
                        <span class="sr-only">Toggle navigation</span>
                        <span class="icon-bar"></span>
                        <span class="icon-bar"></span>
                        <span class="icon-bar"></span>
                    </button>
                    <a class="navbar-brand" href="/">kingjcy blog</a>
                </div>

                <div class="collapse navbar-collapse" id="navbar-collapse">
                    <ul class="nav navbar-nav">
                        <li><a href="/categories/技术文章/">技术文章</a></li>
                        <li><a href="/categories/读书笔记/">读书笔记</a></li>
                        <li><a href="/categories/人生感悟/">人生感悟</a></li>
                        <li><a href="/tags/">分类</a></li>
                        <li><a href="/about/">关于我</a></li>
                        <li>
                            <form method="get" style="padding: 8px" action="https://www.google.com/search" target="_blank">
                                <input type="hidden" name="sitesearch" value="kingjcy.github.io"/>
                                <input type="text" class="form-control" name="q" placeholder="Press enter to search">
                            </form>
                        </li>
                    </ul>

                </div>
            </div>
        </nav>
    </header>


<div class="row">
    <div class="col-md-8">
        <article class="post single">

            <header>
                <div class="post-date">
                    2019年05月06日 
                </div>
                <h1 class="post-title">Sqlite</h1>
            </header>

            <div class="post-content">
                <p>SQLite是一个进程内的库，实现了自给自足的、无服务器的、零配置的、事务性的 SQL 数据库引擎。它是一个零配置的数据库，这意味着与其他数据库一样，您不需要在系统中配置。</p>

<p>数据库设计标准如下：</p>

<p>常用类型：日期，数字 字符串，文本</p>

<p>为什么要用 SQLite？</p>

<p>不需要一个单独的服务器进程或操作的系统（无服务器的）。</p>

<p>SQLite 不需要配置，这意味着不需要安装或管理。</p>

<p>一个完整的 SQLite 数据库是存储在一个单一的跨平台的磁盘文件。</p>

<p>SQLite 是非常小的，是轻量级的，完全配置时小于 400KiB，省略可选功能配置时小于250KiB。</p>

<p>SQLite 是自给自足的，这意味着不需要任何外部的依赖。</p>

<p>SQLite 事务是完全兼容 ACID 的，允许从多个进程或线程安全访问。</p>

<p>SQLite 支持 SQL92（SQL2）标准的大多数查询语言的功能。</p>

<p>SQLite 使用 ANSI-C 编写的，并提供了简单和易于使用的 API。</p>

<p>SQLite 可在 UNIX（Linux, Mac OS-X, Android, iOS）和 Windows（Win32, WinCE, WinRT）中运行。</p>

<p>操作</p>

<p>DDL - 数据定义语言</p>

<pre><code>CREATE  创建一个新的表，一个表的视图，或者数据库中的其他对象。
ALTER   修改数据库中的某个已有的数据库对象，比如一个表。
DROP    删除整个表，或者表的视图，或者数据库中的其他对象。
</code></pre>

<p>实例</p>

<pre><code>CREATE TABLE database_name.table_name(
   column1 datatype  PRIMARY KEY(one or more columns),
   column2 datatype,
   column3 datatype,
   .....
   columnN datatype,
);


CREATE TABLE COMPANY(
   ID INT PRIMARY KEY     NOT NULL,
   NAME           TEXT    NOT NULL,
   AGE            INT     NOT NULL,
   ADDRESS        CHAR(50),
   SALARY         REAL
);




DROP TABLE database_name.table_name;
</code></pre>

<p>DML - 数据操作语言</p>

<pre><code>INSERT  创建一条记录。
UPDATE  修改记录。
DELETE  删除记录。
</code></pre>

<p>实例</p>

<pre><code>SELECT column1, column2, columnN FROM table_name;

INSERT INTO TABLE_NAME [(column1, column2, column3,...columnN)]  VALUES (value1, value2, value3,...valueN);

UPDATE table_name SET column1 = value1, column2 = value2...., columnN = valueNWHERE [condition];

DELETE FROM table_name WHERE [condition];
</code></pre>

<p>实例</p>

<pre><code>INSERT INTO TABLE_NAME [(column1, column2, column3,...columnN)]  
VALUES (value1, value2, value3,...valueN);

INSERT INTO COMPANY (ID,NAME,AGE,ADDRESS,SALARY)
VALUES (1, 'Paul', 32, 'California', 20000.00 );
</code></pre>

<p>DQL - 数据查询语言</p>

<pre><code>SELECT  从一个或多个表中检索某些记录。
</code></pre>

<p>安装</p>

<p>在 Linux 上安装 SQLite</p>

<p>目前，几乎所有版本的 Linux 操作系统都附带 SQLite。所以，只要使用下面的命令来检查您的机器上是否已经安装了 SQLite。</p>

<pre><code>$ sqlite3
SQLite version 3.7.15.2 2013-01-09 11:53:05
Enter &quot;.help&quot; for instructions
Enter SQL statements terminated with a &quot;;&quot;
sqlite&gt;
</code></pre>

<p>如果没有看到上面的结果，那么就意味着没有在 Linux 机器上安装 SQLite。因此，让我们按照下面的步骤安装 SQLite：</p>

<p>请访问 SQLite 下载页面，从源代码区下载 sqlite-autoconf-*.tar.gz。</p>

<p>步骤如下：</p>

<pre><code>$ tar xvzf sqlite-autoconf-3071502.tar.gz
$ cd sqlite-autoconf-3071502
$ ./configure --prefix=/usr/local
$ make
$ make install
</code></pre>

<p>上述步骤将在 Linux 机器上安装 SQLite，您可以按照上述讲解的进行验证。</p>

<p>在 Mac OS X 上安装 SQLite</p>

<p>最新版本的 Mac OS X 会预安装 SQLite，但是如果没有可用的安装，只需按照如下步骤进行：</p>

<p>请访问 SQLite 下载页面，从源代码区下载 sqlite-autoconf-*.tar.gz。</p>

<p>步骤如下：</p>

<pre><code>$ tar xvzf sqlite-autoconf-3071502.tar.gz
$ cd sqlite-autoconf-3071502
$ ./configure --prefix=/usr/local
$ make
$ make install
</code></pre>

<p>上述步骤将在 Mac OS X 机器上安装 SQLite，您可以使用下列命令进行验证：</p>

<pre><code>$ sqlite3
SQLite version 3.7.15.2 2013-01-09 11:53:05
Enter &quot;.help&quot; for instructions
Enter SQL statements terminated with a &quot;;&quot;
sqlite&gt;
</code></pre>

<p>命令</p>

<p>上面的命令会显示各种重要的 SQLite 点命令的列表，如下所示：</p>

<pre><code>命令  描述
.backup ?DB? FILE   备份 DB 数据库（默认是 &quot;main&quot;）到 FILE 文件。
.bail ON|OFF    发生错误后停止。默认为 OFF。
.databases  列出数据库的名称及其所依附的文件。
.dump ?TABLE?   以 SQL 文本格式转储数据库。如果指定了 TABLE 表，则只转储匹配 LIKE 模式的 TABLE 表。
.echo ON|OFF    开启或关闭 echo 命令。
.exit   退出 SQLite 提示符。
.explain ON|OFF 开启或关闭适合于 EXPLAIN 的输出模式。如果没有带参数，则为 EXPLAIN on，及开启 EXPLAIN。
.header(s) ON|OFF   开启或关闭头部显示。
.help   显示消息。
.import FILE TABLE  导入来自 FILE 文件的数据到 TABLE 表中。
.indices ?TABLE?    显示所有索引的名称。如果指定了 TABLE 表，则只显示匹配 LIKE 模式的 TABLE 表的索引。
.load FILE ?ENTRY?  加载一个扩展库。
.log FILE|off   开启或关闭日志。FILE 文件可以是 stderr（标准错误）/stdout（标准输出）。
.mode MODE  设置输出模式，MODE 可以是下列之一：
    csv 逗号分隔的值

    column 左对齐的列

    html HTML 的 &lt;table&gt; 代码

    insert TABLE 表的 SQL 插入（insert）语句

    line 每行一个值

    list 由 .separator 字符串分隔的值

    tabs 由 Tab 分隔的值

    tcl TCL 列表元素

.nullvalue STRING   在 NULL 值的地方输出 STRING 字符串。
.output FILENAME    发送输出到 FILENAME 文件。
.output stdout  发送输出到屏幕。
.print STRING...    逐字地输出 STRING 字符串。
.prompt MAIN CONTINUE   替换标准提示符。
.quit   退出 SQLite 提示符。
.read FILENAME  执行 FILENAME 文件中的 SQL。
.schema ?TABLE? 显示 CREATE 语句。如果指定了 TABLE 表，则只显示匹配 LIKE 模式的 TABLE 表。
.separator STRING   改变输出模式和 .import 所使用的分隔符。
.show   显示各种设置的当前值。
.stats ON|OFF   开启或关闭统计。
.tables ?PATTERN?   列出匹配 LIKE 模式的表的名称。
.timeout MS 尝试打开锁定的表 MS 毫秒。
.width NUM NUM  为 &quot;column&quot; 模式设置列宽度。
.timer ON|OFF   开启或关闭 CPU 定时器。
</code></pre>

<p>创建数据库</p>

<pre><code>sqlite3 testDB.db
</code></pre>

<p>进入数据库</p>

<pre><code>sqlite3 testDB.db
</code></pre>

<p>查看数据库</p>

<pre><code>.databases
</code></pre>

<p>查看当前数据库下的表</p>

<pre><code>.tables
</code></pre>

<p>表</p>

<p>Sqlite中，一个自增长字段定义为INTEGER PRIMARY KEY AUTOINCREMENT，那么在插入一个新数据时，只需要将这个字段的值指定为NULL，即可由引擎自动设定其值，引擎会设定为最大的rowid+1。</p>

<p>唯一约束 unique</p>

<p>主键  primary key</p>
            </div>
            
            <div style="border: 1px dashed #e0e0e0; margin-bottom: 15px; padding: 10px 10px 10px 10px; background-color: #fffeee; background-repeat: no-repeat; background-attachment: scroll; background-position: 1% 50%; -moz-background-size: auto auto; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;">
                <div>
                    <p style="margin-top:0px;">作者：<a target="_blank" href="http://blog.fatedier.com/">kingjcy</a>
                    <br />本文出处：<a target="_blank" href="https://kingjcy.github.io/post/database/sqlite/">https://kingjcy.github.io/post/database/sqlite/</a>
                    <br />
                    文章版权归本人所有，欢迎转载，但未经作者同意必须保留此段声明，且在文章页面明显位置给出原文链接，否则保留追究法律责任的权利。 </p>
                </div>
            </div>

            <aside>
                
                <ul class="list-inline post-tags">
                    
                    <li>
                        <a href="/tags/sqlite/">
                            <i class="fa fa-tags"></i>
                            Sqlite
                        </a>
                    </li>
                    
                </ul>

                
                
                <h4 id="real-rels">相关文章</h4>
                <ul class="post-rels" id="real-rels"></ul>
            </aside>
                
            
            <footer>
                <nav>
                    <ul class="pager">

                        
                        <li class="previous"><a href="/post/golang/go-database/"><span aria-hidden="true">&larr;</span> Prev</a></li>
                        

                        <li><a href="/post/">All Posts</a></li>

                        
                        <li class="next"><a href="/post/product/pings/">Next <span aria-hidden="true">&rarr;</span></a></li>
                        

                    </ul>
                </nav>
            </footer>

        </article>
    </div>
    <div class="col-md-4">
        
<aside>
        <div class="toc panel panel-default hidden-xs hidden-sm affix-top" data-spy="affix" data-offset-top="125" data-offset-bottom="300">
            <div class="panel-heading">
                <h2 class="panel-title">Catalog</h2>
            </div>

            
        </div>
</aside>

    </div>
</div>

</div>
<hr>

<footer class="container copy">
    <p>&copy; 2020  kingjcy blog </p>
	<p>Powered by <a href="https://gohugo.io" target="_blank">Hugo</a></p>
</footer>

<script>hljs.initHighlightingOnLoad();</script>

<script>
var _hmt = _hmt || [];
(function() {
  var hm = document.createElement("script");
  hm.src = "//hm.baidu.com/hm.js?ace3ec99de96c4080ead1eb8d52db3b3";
  var s = document.getElementsByTagName("script")[0]; 
  s.parentNode.insertBefore(hm, s);
})();
</script>

<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-92600390-2', 'auto');
  ga('send', 'pageview');
</script>
</body>
</html>


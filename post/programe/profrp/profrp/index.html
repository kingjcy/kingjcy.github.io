<!DOCTYPE html>

<html lang="zh-cn">
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1">
<meta name="author" content="fatedier">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="description" content="流程
 使用github.com/spf13/cobra来设置启动
 解析配置到g.GlbServerCfg
 创建服务，启动一个监听端口（默认7000）来接受所有的服务，然后根据协议来路由分发到对应的accept中去，对应的每个协议都要掉用疯子的listen端口来注册，然后启动一个HandleListener来处理对应的请求，每个listener中都封装了对应的accept来接受对应的请求。
  具体流程中的部分细节
配置文件解析
客户端配置文件解析
 判断是解析配置文件，还是解析命令行
 不管是配置文件还是命令行，都会获取默认配置，然后获取配置来替换默认配置
 对一些必要的配置进行检查
  服务端配置文件解析
 判断是解析配置文件，还是解析命令行  配置文件解析，先配置struct默认值，然后通过ini的load，get功能来更新这个struct，返回这个struct给后面使用
命令行解析，也是先配置struct默认值，然后将命令行的值直接给struct：g.GlbServerCfg
 不管是配置文件还是命令行，都会获取默认配置，然后获取配置来替换默认配置
 初始化服务配置
 对一些必要的配置进行检查
  日志
都已经封装好，只要在我们的struct的中组合log.Logger,就可以直接使用。  管理平台的开发
支持数据库设计
数据库用于给frpc的信息存储，给frps-admin操作，给frpc验证
 首先支持file  file 类型使用的简单示例:
# frps.ini [common] db_type = file db_path = ./frps.db  frps.db 的内容
{ &quot;users&quot;: [ { &quot;uid&quot;: &quot;1&quot;, &quot;name&quot;: &quot;user1&quot;, &quot;token&quot;: &quot;123&quot; } ], &quot;hosts&quot;: [ { &quot;uid&quot;: &quot;1&quot;, &quot;name&quot;: &quot;test&quot; } ], &quot;proxies&quot;: [ { &quot;uid&quot;: &quot;1&quot;, &quot;host&quot;: &quot;test&quot;, &quot;name&quot;: &quot;ssh&quot;, &quot;type&quot;: &quot;tcp&quot;, &quot;conf&quot;: &quot;bG9jYWxfcG9ydCA9IDIyCnJlbW90ZV9wb3J0ID0gOTExMgo=&quot; } ] }  之后 frpc 连接 frps 可以获取到配置，允许连接。">
<meta property="og:url" content="https://kingjcy.github.io/"><meta property="og:type" content="article">
<meta property="og:title" content="Profrp - kingjcy blog"><meta property="og:site_name" content="kingjcy blog">

<title>
    
    Profrp
    
</title>

<link rel="stylesheet" href="/onlyone/onlyone.css">
<link rel="shortcut icon" href="/assets/favicon.ico">
<script src="/onlyone/onlyone.js"></script>
<link rel="alternate" type="application/rss+xml" title="RSS" href="/index.xml">
</head>
<body>


<div class="container">
    <header class="nav">
        <nav class="navbar navbar-default">
            <div class="container-fluid">
                <div class="navbar-header">
                    <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar-collapse">
                        <span class="sr-only">Toggle navigation</span>
                        <span class="icon-bar"></span>
                        <span class="icon-bar"></span>
                        <span class="icon-bar"></span>
                    </button>
                    <a class="navbar-brand" href="/">kingjcy blog</a>
                </div>

                <div class="collapse navbar-collapse" id="navbar-collapse">
                    <ul class="nav navbar-nav">
                        <li><a href="/categories/技术文章/">技术文章</a></li>
                        <li><a href="/categories/读书笔记/">读书笔记</a></li>
                        <li><a href="/categories/人生感悟/">人生感悟</a></li>
                        <li><a href="/tags/">分类</a></li>
                        <li><a href="/about/">关于我</a></li>
                        <li>
                            <form method="get" style="padding: 8px" action="https://www.google.com/search" target="_blank">
                                <input type="hidden" name="sitesearch" value="kingjcy.github.io"/>
                                <input type="text" class="form-control" name="q" placeholder="Press enter to search">
                            </form>
                        </li>
                    </ul>

                </div>
            </div>
        </nav>
    </header>


<div class="row">
    <div class="col-md-8">
        <article class="post single">

            <header>
                <div class="post-date">
                    2019年05月07日 
                </div>
                <h1 class="post-title">Profrp</h1>
            </header>

            <div class="post-content">
                

<p>流程</p>

<ol>
<li><p>使用github.com/spf13/cobra来设置启动</p></li>

<li><p>解析配置到g.GlbServerCfg</p></li>

<li><p>创建服务，启动一个监听端口（默认7000）来接受所有的服务，然后根据协议来路由分发到对应的accept中去，对应的每个协议都要掉用疯子的listen端口来注册，然后启动一个HandleListener来处理对应的请求，每个listener中都封装了对应的accept来接受对应的请求。</p></li>
</ol>

<p>具体流程中的部分细节</p>

<p>配置文件解析</p>

<p>客户端配置文件解析</p>

<ol>
<li><p>判断是解析配置文件，还是解析命令行</p></li>

<li><p>不管是配置文件还是命令行，都会获取默认配置，然后获取配置来替换默认配置</p></li>

<li><p>对一些必要的配置进行检查</p></li>
</ol>

<p>服务端配置文件解析</p>

<ol>
<li>判断是解析配置文件，还是解析命令行</li>
</ol>

<p>配置文件解析，先配置struct默认值，然后通过ini的load，get功能来更新这个struct，返回这个struct给后面使用</p>

<p>命令行解析，也是先配置struct默认值，然后将命令行的值直接给struct：g.GlbServerCfg</p>

<ol>
<li><p>不管是配置文件还是命令行，都会获取默认配置，然后获取配置来替换默认配置</p></li>

<li><p>初始化服务配置</p></li>

<li><p>对一些必要的配置进行检查</p></li>
</ol>

<p>日志</p>

<pre><code>都已经封装好，只要在我们的struct的中组合log.Logger,就可以直接使用。
</code></pre>

<p>管理平台的开发</p>

<p>支持数据库设计</p>

<p>数据库用于给frpc的信息存储，给frps-admin操作，给frpc验证</p>

<ol>
<li>首先支持file</li>
</ol>

<p>file 类型使用的简单示例:</p>

<pre><code># frps.ini
[common]
db_type = file
db_path = ./frps.db
</code></pre>

<p>frps.db 的内容</p>

<pre><code>{
    &quot;users&quot;: [
        {
            &quot;uid&quot;: &quot;1&quot;,
            &quot;name&quot;: &quot;user1&quot;,
            &quot;token&quot;: &quot;123&quot;
        }
    ],
    &quot;hosts&quot;: [
        {
            &quot;uid&quot;: &quot;1&quot;,
            &quot;name&quot;: &quot;test&quot;
        }
    ],
    &quot;proxies&quot;: [
        {
            &quot;uid&quot;: &quot;1&quot;,
            &quot;host&quot;: &quot;test&quot;,
            &quot;name&quot;: &quot;ssh&quot;,
            &quot;type&quot;: &quot;tcp&quot;,
            &quot;conf&quot;: &quot;bG9jYWxfcG9ydCA9IDIyCnJlbW90ZV9wb3J0ID0gOTExMgo=&quot;
        }
    ]
}
</code></pre>

<p>之后 frpc 连接 frps 可以获取到配置，允许连接。</p>

<pre><code>./frpc --host test -t 123 --log_level trace
</code></pre>

<p>proxies 中的 conf 是参数 base64 编码后的结果。原来的内容为</p>

<pre><code>local_port = 22
remote_port = 9112
</code></pre>

<ol>
<li><p>支持sqlite</p>

<h1 id="frps-ini">frps.ini</h1>

<p>[common]
db_type = sqlite
db_name = ./models/db/sqlite/info.db</p></li>
</ol>

<p>建表</p>

<pre><code>见sqlite.sql
</code></pre>

<p>api设计</p>

<p>系统设计</p>

<p>一个用户会有多台机器，一台机器可以配置多个代理，当然代理可以放在一个配置文件中</p>

<p>请求连接流程</p>

<p>客户端请求带着host，然后获取主机上的所有的proxy的配置，返回给客户端。</p>

<h3 id="用户">用户</h3>

<p>分为 <strong>管理用户</strong> 和 <strong>普通用户</strong> 。</p>

<p>管理用户可以修改服务端的公共参数，修改普通用户的相关配置。可以查看到总览的统计数据。</p>

<p>普通用户只能操作自己的机器，代理服务和统计数据。</p>

<h3 id="机器">机器</h3>

<p>每一个普通用户可以添加多个机器，一个代理必须属于一个指定的机器。客户端会实时获取自己指定机器的所有代理的配置。</p>

<h3 id="代理">代理</h3>

<p>代理分为不同类型，例如 tcp, udp, http, https, stcp, xtcp。每一个代理都属于一个机器。</p>

<h2 id="web-管理功能">Web 管理功能</h2>

<h3 id="用户管理">用户管理</h3>

<ul>
<li>用户登录。</li>
<li>管理用户增删改查普通用户及其配置。</li>
</ul>

<h3 id="机器管理">机器管理</h3>

<ul>
<li>普通用户支持增删机器。</li>
</ul>

<h3 id="代理管理">代理管理</h3>

<ul>
<li>在机器管理的下一级页面，支持增删改查代理配置。</li>
</ul>

<h3 id="统计数据查看">统计数据查看</h3>

<ul>
<li>管理用户支持查看总览以及各个普通用户的统计数据。</li>
<li>普通用户支持查看自己机器以及代理的统计数据。</li>
</ul>

<h1 id="分页api的设计">分页api的设计</h1>

<p>1.在所有的list的API中新增两个参数：</p>

<pre><code>pageNum     当前页
pageSize    每页条数
</code></pre>

<p>2.返回的json中新增一个page返回对象，定义如下</p>

<pre><code>pageNum         int64   //当前页
pageSize        int64   //每页条数
totalCount      int64   //总条数
pageCount       int64   //总页数
</code></pre>

<p>示例</p>

<h5 id="查询所有用户信息">查询所有用户信息</h5>

<p>Request</p>

<pre><code>GET /v1/users
</code></pre>

<p>Response</p>

<pre><code>200 OK
{
    &quot;users&quot;: [
        {
            &quot;name&quot;: &lt;string&gt;,
            &quot;role&quot;: &lt;uint&gt;,
            &quot;desc&quot;: &lt;string&gt;,
            &quot;max_hosts_num&quot;: &lt;uint&gt;,
            &quot;max_proxies_num&quot;: &lt;uint&gt;,
            &quot;max_bandwidth_byte&quot;: &lt;uint&gt;,
            &quot;max_traffic_byte_per_day&quot;: &lt;uint&gt;
        },
        ...
    ],
    &quot;page&quot;: {
        &quot;pageNum&quot;:&lt;uint&gt;,
        &quot;pageSize&quot;:&lt;uint&gt;,
        &quot;totalCount&quot;:&lt;uint&gt;,
        &quot;pageCount&quot;:&lt;uint&gt;
    }
}
</code></pre>

<h1 id="实现">实现</h1>

<p>api第一次获取全量数据缓存在内存中，在内存进行处理，后面的切页操作不再和数据库交互，更新数据需要重新请求默认接口，可以在后端处理数据动态变化的情况。</p>

<p>1.获取全部的数据，需要修改对应sql增加获取排序后的数据</p>

<p>2.对排序后的数据按着传进来的参数进行处理获取返回</p>

<pre><code>a.统计全量数据的数量，根据pageSize获取总页数。
b.根据pageSize来将数据按组分配存储到map中，根据pageNum来返回对应的数据。
</code></pre>

<p>测试验证</p>

<ol>
<li>新增普通用户</li>
</ol>

<p><a href="http://localhost:8888/v1/users">http://localhost:8888/v1/users</a></p>

<p>{
        &ldquo;name&rdquo;: &ldquo;last&rdquo;,
        &ldquo;password&rdquo;: &ldquo;123456&rdquo;,
        &ldquo;desc&rdquo;: &ldquo;test user&rdquo;,
        &ldquo;max_hosts_num&rdquo;: 0,
        &ldquo;max_proxies_num&rdquo;: 0,
        &ldquo;max_bandwidth_byte&rdquo;: 0,
        &ldquo;max_traffic_byte_per_day&rdquo;: 0
}</p>

<p>返回</p>

<p>{&ldquo;uid&rdquo;:&ldquo;4&rdquo;}</p>

<p>表数据</p>

<p>sqlite&gt; select * from user;
1|user1||123|||||
3|jcy1|1111111|6ca49c87b3ae36d357dbc9cb6c1fa368|aaaa|1|1|1|1
sqlite&gt; select * from user;
1|user1||123|||||
3|jcy1|1111111|6ca49c87b3ae36d357dbc9cb6c1fa368|aaaa|1|1|1|1
4|last|123456|e2045ebe50ce37355396d383ddf2d6cd|test user|0|0|0|0</p>

<ol>
<li>查询用户信息</li>
</ol>

<p><a href="http://localhost:8888/v1/users/4">http://localhost:8888/v1/users/4</a></p>

<p>返回</p>

<p>{
    &ldquo;name&rdquo;: &ldquo;last&rdquo;,
    &ldquo;desc&rdquo;: &ldquo;test user&rdquo;,
    &ldquo;max_hosts_num&rdquo;: 0,
    &ldquo;max_proxies_num&rdquo;: 0,
    &ldquo;max_bandwidth_byte&rdquo;: 0,
    &ldquo;max_traffic_byte_per_day&rdquo;: 0
}</p>

<ol>
<li>查询用户 Token</li>
</ol>

<p><a href="http://localhost:8888/v1/users/4/token">http://localhost:8888/v1/users/4/token</a></p>

<p>返回</p>

<p>{
    &ldquo;token&rdquo;: &ldquo;e2045ebe50ce37355396d383ddf2d6cd&rdquo;
}</p>

<ol>
<li>生成新的用户 Token</li>
</ol>

<p><a href="http://localhost:8888/v1/users/4/token?action=reset">http://localhost:8888/v1/users/4/token?action=reset</a></p>

<p>返回</p>

<p>{
    &ldquo;token&rdquo;: &ldquo;3394b63ea4f6d1439a1b2f3555b5ede9&rdquo;
}</p>

<ol>
<li>修改用户密码</li>
</ol>

<p><a href="http://localhost:8888/v1/users/4">http://localhost:8888/v1/users/4</a></p>

<p>{
    &ldquo;password&rdquo;: &ldquo;123456&rdquo;
}</p>

<p>表数据</p>

<p>sqlite&gt; select * from user;
1|user1||123|||||
3|jcy1|1111111|6ca49c87b3ae36d357dbc9cb6c1fa368|aaaa|1|1|1|1
sqlite&gt; select * from user;
1|user1||123|||||
3|jcy1|1111111|6ca49c87b3ae36d357dbc9cb6c1fa368|aaaa|1|1|1|1
4|last|123456|e2045ebe50ce37355396d383ddf2d6cd|test user|0|0|0|0
sqlite&gt; select * from user;
1|user1||123|||||
3|jcy1|1111111|6ca49c87b3ae36d357dbc9cb6c1fa368|aaaa|1|1|1|1
4|last|123456modify|3394b63ea4f6d1439a1b2f3555b5ede9|test user|0|0|0|0</p>

<p>6.修改用户配置</p>

<p><a href="http://localhost:8888/v1/users/4">http://localhost:8888/v1/users/4</a></p>

<p>{
        &ldquo;desc&rdquo;: &ldquo;test user modify&rdquo;,
        &ldquo;max_hosts_num&rdquo;: 1,
        &ldquo;max_proxies_num&rdquo;: 0,
        &ldquo;max_bandwidth_byte&rdquo;: 10,
        &ldquo;max_traffic_byte_per_day&rdquo;: 0
}</p>

<p>表数据</p>

<p>sqlite&gt; select * from user;
1|user1||123|||||
3|jcy1|1111111|6ca49c87b3ae36d357dbc9cb6c1fa368|aaaa|1|1|1|1
sqlite&gt; select * from user;
1|user1||123|||||
3|jcy1|1111111|6ca49c87b3ae36d357dbc9cb6c1fa368|aaaa|1|1|1|1
4|last|123456|e2045ebe50ce37355396d383ddf2d6cd|test user|0|0|0|0
sqlite&gt; select * from user;
1|user1||123|||||
3|jcy1|1111111|6ca49c87b3ae36d357dbc9cb6c1fa368|aaaa|1|1|1|1
4|last|123456modify|3394b63ea4f6d1439a1b2f3555b5ede9|test user|0|0|0|0
sqlite&gt; select * from user;
1|user1||123|||||
3|jcy1|1111111|6ca49c87b3ae36d357dbc9cb6c1fa368|aaaa|1|1|1|1
4|last|123456modify|3394b63ea4f6d1439a1b2f3555b5ede9|test user modify|1|0|10|0</p>

<ol>
<li>删除普通用户</li>
</ol>

<p><a href="http://localhost:8888/v1/users/4">http://localhost:8888/v1/users/4</a></p>

<p>表数据</p>

<p>sqlite&gt; select * from user;
1|user1||123|||||
3|jcy1|1111111|6ca49c87b3ae36d357dbc9cb6c1fa368|aaaa|1|1|1|1
sqlite&gt; select * from user;
1|user1||123|||||
3|jcy1|1111111|6ca49c87b3ae36d357dbc9cb6c1fa368|aaaa|1|1|1|1
4|last|123456|e2045ebe50ce37355396d383ddf2d6cd|test user|0|0|0|0
sqlite&gt; select * from user;
1|user1||123|||||
3|jcy1|1111111|6ca49c87b3ae36d357dbc9cb6c1fa368|aaaa|1|1|1|1
4|last|123456modify|3394b63ea4f6d1439a1b2f3555b5ede9|test user|0|0|0|0
sqlite&gt; select * from user;
1|user1||123|||||
3|jcy1|1111111|6ca49c87b3ae36d357dbc9cb6c1fa368|aaaa|1|1|1|1
4|last|123456modify|3394b63ea4f6d1439a1b2f3555b5ede9|test user modify|1|0|10|0
sqlite&gt; select * from user;
1|user1||123|||||
3|jcy1|1111111|6ca49c87b3ae36d357dbc9cb6c1fa368|aaaa|1|1|1|1</p>

<ol>
<li>增加机器</li>
</ol>

<p><a href="http://localhost:8888/v1/users/5/hosts/new">http://localhost:8888/v1/users/5/hosts/new</a></p>

<p>{
    &ldquo;name&rdquo;: &ldquo;new&rdquo;,
    &ldquo;desc&rdquo;: &ldquo;cloud machine&rdquo;
}</p>

<p>表数据</p>

<p>sqlite&gt; select * from host;
1|test|
5|new|cloud machine</p>

<p>9.查询用户机器列表</p>

<p><a href="http://localhost:8888/v1/users/5/hosts">http://localhost:8888/v1/users/5/hosts</a></p>

<p>[
    {
        &ldquo;host&rdquo;: &ldquo;new&rdquo;,
        &ldquo;desc&rdquo;: &ldquo;cloud machine&rdquo;
    }
]</p>

<ol>
<li>修改机器信息</li>
</ol>

<p><a href="http://localhost:8888/v1/users/5/hosts/new">http://localhost:8888/v1/users/5/hosts/new</a></p>

<p>{
    &ldquo;desc&rdquo;: &ldquo;modify cloud machine&rdquo;
}</p>

<p>表数据</p>

<p>sqlite&gt; select * from host;
1|test|
5|new|cloud machine
sqlite&gt; select * from host;
1|test|
5|new|modify cloud machine</p>

<ol>
<li>删除机器</li>
</ol>

<p><a href="http://localhost:8888/v1/users/5/hosts/new">http://localhost:8888/v1/users/5/hosts/new</a></p>

<p>表结构</p>

<p>sqlite&gt; select * from hsot;
Error: no such table: hsot
sqlite&gt; select * from host;
1|test|
5|new|cloud machine
sqlite&gt; select * from host;
1|test|
5|new|modify cloud machine
sqlite&gt; select * from host;
1|test|</p>

<ol>
<li>增加代理或访问者</li>
</ol>

<p><a href="http://localhost:8888/v1/users/5/hosts/new/proxies/proxynew/tcp">http://localhost:8888/v1/users/5/hosts/new/proxies/proxynew/tcp</a></p>

<p>{
    &ldquo;local_port&rdquo;: 9999,
    &ldquo;remote_port&rdquo;: 7777
}</p>

<p>表</p>

<p>sqlite&gt; select * from proxy;
1|test|ssh|tcp|bG9jYWxfcG9ydCA9IDIyCnJlbW90ZV9wb3J0ID0gOTExMgo=
1|jcy|vistorjcy|xtcp|YmluZF9wb3J0ID0gODAK
sqlite&gt; select * from proxy;
1|test|ssh|tcp|bG9jYWxfcG9ydCA9IDIyCnJlbW90ZV9wb3J0ID0gOTExMgo=
1|jcy|vistorjcy|xtcp|YmluZF9wb3J0ID0gODAK
5|new|proxynew|tcp|bG9jYWxfcG9ydCA9IDk5OTkKcmVtb3RlX3BvcnQgPSA3Nzc3Cg==</p>

<p><a href="http://localhost:8888/v1/users/5/hosts/new/proxies/proxynew/udp">http://localhost:8888/v1/users/5/hosts/new/proxies/proxynew/udp</a></p>

<p>{
    &ldquo;local_port&rdquo;: 9999,
    &ldquo;remote_port&rdquo;: 7777
}</p>

<p>表</p>

<p>sqlite&gt; select * from proxy;
1|test|ssh|tcp|bG9jYWxfcG9ydCA9IDIyCnJlbW90ZV9wb3J0ID0gOTExMgo=
1|jcy|vistorjcy|xtcp|YmluZF9wb3J0ID0gODAK
sqlite&gt; select * from proxy;
1|test|ssh|tcp|bG9jYWxfcG9ydCA9IDIyCnJlbW90ZV9wb3J0ID0gOTExMgo=
1|jcy|vistorjcy|xtcp|YmluZF9wb3J0ID0gODAK
5|new|proxynew|tcp|bG9jYWxfcG9ydCA9IDk5OTkKcmVtb3RlX3BvcnQgPSA3Nzc3Cg==
sqlite&gt; select * from proxy;
1|test|ssh|tcp|bG9jYWxfcG9ydCA9IDIyCnJlbW90ZV9wb3J0ID0gOTExMgo=
1|jcy|vistorjcy|xtcp|YmluZF9wb3J0ID0gODAK
5|new|proxynew|tcp|bG9jYWxfcG9ydCA9IDk5OTkKcmVtb3RlX3BvcnQgPSA3Nzc3Cg==
5|new|proxynew|udp|bG9jYWxfcG9ydCA9IDk5OTkKcmVtb3RlX3BvcnQgPSA3Nzc3Cg==</p>

<p><a href="http://localhost:8888/v1/users/5/hosts/new/proxies/proxynew/http">http://localhost:8888/v1/users/5/hosts/new/proxies/proxynew/http</a></p>

<p>{
    &ldquo;local_port&rdquo;: 9999
}</p>

<p>表</p>

<p>sqlite&gt; select * from proxy;
1|test|ssh|tcp|bG9jYWxfcG9ydCA9IDIyCnJlbW90ZV9wb3J0ID0gOTExMgo=
1|jcy|vistorjcy|xtcp|YmluZF9wb3J0ID0gODAK
sqlite&gt; select * from proxy;
1|test|ssh|tcp|bG9jYWxfcG9ydCA9IDIyCnJlbW90ZV9wb3J0ID0gOTExMgo=
1|jcy|vistorjcy|xtcp|YmluZF9wb3J0ID0gODAK
5|new|proxynew|tcp|bG9jYWxfcG9ydCA9IDk5OTkKcmVtb3RlX3BvcnQgPSA3Nzc3Cg==
sqlite&gt; select * from proxy;
1|test|ssh|tcp|bG9jYWxfcG9ydCA9IDIyCnJlbW90ZV9wb3J0ID0gOTExMgo=
1|jcy|vistorjcy|xtcp|YmluZF9wb3J0ID0gODAK
5|new|proxynew|tcp|bG9jYWxfcG9ydCA9IDk5OTkKcmVtb3RlX3BvcnQgPSA3Nzc3Cg==
5|new|proxynew|udp|bG9jYWxfcG9ydCA9IDk5OTkKcmVtb3RlX3BvcnQgPSA3Nzc3Cg==
sqlite&gt; select * from proxy;
1|test|ssh|tcp|bG9jYWxfcG9ydCA9IDIyCnJlbW90ZV9wb3J0ID0gOTExMgo=
1|jcy|vistorjcy|xtcp|YmluZF9wb3J0ID0gODAK
5|new|proxynew|tcp|bG9jYWxfcG9ydCA9IDk5OTkKcmVtb3RlX3BvcnQgPSA3Nzc3Cg==
5|new|proxynew|udp|bG9jYWxfcG9ydCA9IDk5OTkKcmVtb3RlX3BvcnQgPSA3Nzc3Cg==
5|new|proxynew|http|bG9jYWxfcG9ydCA9IDk5OTkK</p>

<p><a href="http://localhost:8888/v1/users/5/hosts/new/proxies/proxynew/https">http://localhost:8888/v1/users/5/hosts/new/proxies/proxynew/https</a></p>

<p>{
    &ldquo;local_port&rdquo;: 9999
}</p>

<p>表</p>

<p>sqlite&gt; select * from proxy;
1|test|ssh|tcp|bG9jYWxfcG9ydCA9IDIyCnJlbW90ZV9wb3J0ID0gOTExMgo=
1|jcy|vistorjcy|xtcp|YmluZF9wb3J0ID0gODAK
sqlite&gt; select * from proxy;
1|test|ssh|tcp|bG9jYWxfcG9ydCA9IDIyCnJlbW90ZV9wb3J0ID0gOTExMgo=
1|jcy|vistorjcy|xtcp|YmluZF9wb3J0ID0gODAK
5|new|proxynew|tcp|bG9jYWxfcG9ydCA9IDk5OTkKcmVtb3RlX3BvcnQgPSA3Nzc3Cg==
sqlite&gt; select * from proxy;
1|test|ssh|tcp|bG9jYWxfcG9ydCA9IDIyCnJlbW90ZV9wb3J0ID0gOTExMgo=
1|jcy|vistorjcy|xtcp|YmluZF9wb3J0ID0gODAK
5|new|proxynew|tcp|bG9jYWxfcG9ydCA9IDk5OTkKcmVtb3RlX3BvcnQgPSA3Nzc3Cg==
5|new|proxynew|udp|bG9jYWxfcG9ydCA9IDk5OTkKcmVtb3RlX3BvcnQgPSA3Nzc3Cg==
sqlite&gt; select * from proxy;
1|test|ssh|tcp|bG9jYWxfcG9ydCA9IDIyCnJlbW90ZV9wb3J0ID0gOTExMgo=
1|jcy|vistorjcy|xtcp|YmluZF9wb3J0ID0gODAK
5|new|proxynew|tcp|bG9jYWxfcG9ydCA9IDk5OTkKcmVtb3RlX3BvcnQgPSA3Nzc3Cg==
5|new|proxynew|udp|bG9jYWxfcG9ydCA9IDk5OTkKcmVtb3RlX3BvcnQgPSA3Nzc3Cg==
5|new|proxynew|http|bG9jYWxfcG9ydCA9IDk5OTkK
sqlite&gt; select * from proxy;
1|test|ssh|tcp|bG9jYWxfcG9ydCA9IDIyCnJlbW90ZV9wb3J0ID0gOTExMgo=
1|jcy|vistorjcy|xtcp|YmluZF9wb3J0ID0gODAK
5|new|proxynew|tcp|bG9jYWxfcG9ydCA9IDk5OTkKcmVtb3RlX3BvcnQgPSA3Nzc3Cg==
5|new|proxynew|udp|bG9jYWxfcG9ydCA9IDk5OTkKcmVtb3RlX3BvcnQgPSA3Nzc3Cg==
5|new|proxynew|http|bG9jYWxfcG9ydCA9IDk5OTkK
5|new|proxynew|https|bG9jYWxfcG9ydCA9IDk5OTkK</p>

<p><a href="http://localhost:8888/v1/users/5/hosts/new/proxies/proxynew/stcp">http://localhost:8888/v1/users/5/hosts/new/proxies/proxynew/stcp</a>
<a href="http://localhost:8888/v1/users/5/hosts/new/proxies/proxynew/xtcp">http://localhost:8888/v1/users/5/hosts/new/proxies/proxynew/xtcp</a></p>

<p>{
    &ldquo;local_port&rdquo;: 9999
}</p>

<p>表</p>

<p>sqlite&gt; select * from proxy;
1|test|ssh|tcp|bG9jYWxfcG9ydCA9IDIyCnJlbW90ZV9wb3J0ID0gOTExMgo=
1|jcy|vistorjcy|xtcp|YmluZF9wb3J0ID0gODAK
sqlite&gt; select * from proxy;
1|test|ssh|tcp|bG9jYWxfcG9ydCA9IDIyCnJlbW90ZV9wb3J0ID0gOTExMgo=
1|jcy|vistorjcy|xtcp|YmluZF9wb3J0ID0gODAK
5|new|proxynew|tcp|bG9jYWxfcG9ydCA9IDk5OTkKcmVtb3RlX3BvcnQgPSA3Nzc3Cg==
sqlite&gt; select * from proxy;
1|test|ssh|tcp|bG9jYWxfcG9ydCA9IDIyCnJlbW90ZV9wb3J0ID0gOTExMgo=
1|jcy|vistorjcy|xtcp|YmluZF9wb3J0ID0gODAK
5|new|proxynew|tcp|bG9jYWxfcG9ydCA9IDk5OTkKcmVtb3RlX3BvcnQgPSA3Nzc3Cg==
5|new|proxynew|udp|bG9jYWxfcG9ydCA9IDk5OTkKcmVtb3RlX3BvcnQgPSA3Nzc3Cg==
sqlite&gt; select * from proxy;
1|test|ssh|tcp|bG9jYWxfcG9ydCA9IDIyCnJlbW90ZV9wb3J0ID0gOTExMgo=
1|jcy|vistorjcy|xtcp|YmluZF9wb3J0ID0gODAK
5|new|proxynew|tcp|bG9jYWxfcG9ydCA9IDk5OTkKcmVtb3RlX3BvcnQgPSA3Nzc3Cg==
5|new|proxynew|udp|bG9jYWxfcG9ydCA9IDk5OTkKcmVtb3RlX3BvcnQgPSA3Nzc3Cg==
5|new|proxynew|http|bG9jYWxfcG9ydCA9IDk5OTkK
sqlite&gt; select * from proxy;
1|test|ssh|tcp|bG9jYWxfcG9ydCA9IDIyCnJlbW90ZV9wb3J0ID0gOTExMgo=
1|jcy|vistorjcy|xtcp|YmluZF9wb3J0ID0gODAK
5|new|proxynew|tcp|bG9jYWxfcG9ydCA9IDk5OTkKcmVtb3RlX3BvcnQgPSA3Nzc3Cg==
5|new|proxynew|udp|bG9jYWxfcG9ydCA9IDk5OTkKcmVtb3RlX3BvcnQgPSA3Nzc3Cg==
5|new|proxynew|http|bG9jYWxfcG9ydCA9IDk5OTkK
5|new|proxynew|https|bG9jYWxfcG9ydCA9IDk5OTkK
sqlite&gt; select * from proxy;
1|test|ssh|tcp|bG9jYWxfcG9ydCA9IDIyCnJlbW90ZV9wb3J0ID0gOTExMgo=
1|jcy|vistorjcy|xtcp|YmluZF9wb3J0ID0gODAK
5|new|proxynew|tcp|bG9jYWxfcG9ydCA9IDk5OTkKcmVtb3RlX3BvcnQgPSA3Nzc3Cg==
5|new|proxynew|udp|bG9jYWxfcG9ydCA9IDk5OTkKcmVtb3RlX3BvcnQgPSA3Nzc3Cg==
5|new|proxynew|http|bG9jYWxfcG9ydCA9IDk5OTkK
5|new|proxynew|https|bG9jYWxfcG9ydCA9IDk5OTkK
5|new|proxynew|stcp|bG9jYWxfcG9ydCA9IDk5OTkK
sqlite&gt; select * from proxy;
1|test|ssh|tcp|bG9jYWxfcG9ydCA9IDIyCnJlbW90ZV9wb3J0ID0gOTExMgo=
1|jcy|vistorjcy|xtcp|YmluZF9wb3J0ID0gODAK
5|new|proxynew|tcp|bG9jYWxfcG9ydCA9IDk5OTkKcmVtb3RlX3BvcnQgPSA3Nzc3Cg==
5|new|proxynew|udp|bG9jYWxfcG9ydCA9IDk5OTkKcmVtb3RlX3BvcnQgPSA3Nzc3Cg==
5|new|proxynew|http|bG9jYWxfcG9ydCA9IDk5OTkK
5|new|proxynew|https|bG9jYWxfcG9ydCA9IDk5OTkK
5|new|proxynew|stcp|bG9jYWxfcG9ydCA9IDk5OTkK
5|new|proxynew|xtcp|bG9jYWxfcG9ydCA9IDk5OTkK</p>

<p><a href="http://localhost:8888/v1/users/5/hosts/new/visitors/visitornew/stcp">http://localhost:8888/v1/users/5/hosts/new/visitors/visitornew/stcp</a>
<a href="http://localhost:8888/v1/users/5/hosts/new/visitors/visitornew/xtcp">http://localhost:8888/v1/users/5/hosts/new/visitors/visitornew/xtcp</a></p>

<p>{
    &ldquo;bind_port&rdquo;: 9999
}</p>

<p>sqlite&gt; select * from proxy;
1|test|ssh|tcp|bG9jYWxfcG9ydCA9IDIyCnJlbW90ZV9wb3J0ID0gOTExMgo=
1|jcy|vistorjcy|xtcp|YmluZF9wb3J0ID0gODAK
5|new|proxynew|tcp|bG9jYWxfcG9ydCA9IDk5OTkKcmVtb3RlX3BvcnQgPSA3Nzc3Cg==
5|new|proxynew|udp|bG9jYWxfcG9ydCA9IDk5OTkKcmVtb3RlX3BvcnQgPSA3Nzc3Cg==
5|new|proxynew|http|bG9jYWxfcG9ydCA9IDk5OTkK
5|new|proxynew|https|bG9jYWxfcG9ydCA9IDk5OTkK
5|new|proxynew|stcp|bG9jYWxfcG9ydCA9IDk5OTkK
5|new|proxynew|xtcp|bG9jYWxfcG9ydCA9IDk5OTkK
sqlite&gt; select * from proxy;
1|test|ssh|tcp|bG9jYWxfcG9ydCA9IDIyCnJlbW90ZV9wb3J0ID0gOTExMgo=
1|jcy|vistorjcy|xtcp|YmluZF9wb3J0ID0gODAK
5|new|proxynew|tcp|bG9jYWxfcG9ydCA9IDk5OTkKcmVtb3RlX3BvcnQgPSA3Nzc3Cg==
5|new|proxynew|udp|bG9jYWxfcG9ydCA9IDk5OTkKcmVtb3RlX3BvcnQgPSA3Nzc3Cg==
5|new|proxynew|http|bG9jYWxfcG9ydCA9IDk5OTkK
5|new|proxynew|https|bG9jYWxfcG9ydCA9IDk5OTkK
5|new|proxynew|stcp|bG9jYWxfcG9ydCA9IDk5OTkK
5|new|proxynew|xtcp|bG9jYWxfcG9ydCA9IDk5OTkK
5|new|visitornew|xtcp|bG9jYWxfcG9ydCA9IDk5OTkK
sqlite&gt; select * from proxy;
1|test|ssh|tcp|bG9jYWxfcG9ydCA9IDIyCnJlbW90ZV9wb3J0ID0gOTExMgo=
1|jcy|vistorjcy|xtcp|YmluZF9wb3J0ID0gODAK
5|new|proxynew|tcp|bG9jYWxfcG9ydCA9IDk5OTkKcmVtb3RlX3BvcnQgPSA3Nzc3Cg==
5|new|proxynew|udp|bG9jYWxfcG9ydCA9IDk5OTkKcmVtb3RlX3BvcnQgPSA3Nzc3Cg==
5|new|proxynew|http|bG9jYWxfcG9ydCA9IDk5OTkK
5|new|proxynew|https|bG9jYWxfcG9ydCA9IDk5OTkK
5|new|proxynew|stcp|bG9jYWxfcG9ydCA9IDk5OTkK
5|new|proxynew|xtcp|bG9jYWxfcG9ydCA9IDk5OTkK
5|new|visitornew|xtcp|bG9jYWxfcG9ydCA9IDk5OTkK
5|new|visitornew|stcp|YmluZF9wb3J0ID0gOTk5OQo=</p>

<p>在这边proxy新增了一个字段，所以数据变新。</p>

<ol>
<li>查询用户所有代理列表</li>
</ol>

<p><a href="http://localhost:8888/v1/users/5/proxies">http://localhost:8888/v1/users/5/proxies</a></p>

<p>{
    &ldquo;tcp&rdquo;: [
        {
            &ldquo;name&rdquo;: &ldquo;tcp&rdquo;,
            &ldquo;host&rdquo;: &ldquo;new&rdquo;,
            &ldquo;use_encryption&rdquo;: false,
            &ldquo;use_compression&rdquo;: false,
            &ldquo;group&rdquo;: &ldquo;&rdquo;,
            &ldquo;group_key&rdquo;: &ldquo;&rdquo;,
            &ldquo;proxy_protocol_version&rdquo;: &ldquo;&rdquo;,
            &ldquo;local_ip&rdquo;: &ldquo;&rdquo;,
            &ldquo;local_port&rdquo;: 9999,
            &ldquo;plugin&rdquo;: &ldquo;&rdquo;,
            &ldquo;plugin_params&rdquo;: null,
            &ldquo;health_check_type&rdquo;: &ldquo;&rdquo;,
            &ldquo;health_check_timeout_s&rdquo;: 0,
            &ldquo;health_check_max_failed&rdquo;: 0,
            &ldquo;health_check_interval_s&rdquo;: 0,
            &ldquo;health_check_url&rdquo;: &ldquo;&rdquo;,
            &ldquo;remote_port&rdquo;: 7777
        }
    ],
    &ldquo;udp&rdquo;: null,
    &ldquo;http&rdquo;: [
        {
            &ldquo;name&rdquo;: &ldquo;http&rdquo;,
            &ldquo;host&rdquo;: &ldquo;new&rdquo;,
            &ldquo;use_encryption&rdquo;: false,
            &ldquo;use_compression&rdquo;: false,
            &ldquo;group&rdquo;: &ldquo;&rdquo;,
            &ldquo;group_key&rdquo;: &ldquo;&rdquo;,
            &ldquo;proxy_protocol_version&rdquo;: &ldquo;&rdquo;,
            &ldquo;local_ip&rdquo;: &ldquo;&rdquo;,
            &ldquo;local_port&rdquo;: 9999,
            &ldquo;plugin&rdquo;: &ldquo;&rdquo;,
            &ldquo;plugin_params&rdquo;: null,
            &ldquo;health_check_type&rdquo;: &ldquo;&rdquo;,
            &ldquo;health_check_timeout_s&rdquo;: 0,
            &ldquo;health_check_max_failed&rdquo;: 0,
            &ldquo;health_check_interval_s&rdquo;: 0,
            &ldquo;health_check_url&rdquo;: &ldquo;&rdquo;,
            &ldquo;custom_domains&rdquo;: &ldquo;&rdquo;,
            &ldquo;sub_domain&rdquo;: &ldquo;&rdquo;,
            &ldquo;locations&rdquo;: &ldquo;&rdquo;,
            &ldquo;http_user&rdquo;: &ldquo;&rdquo;,
            &ldquo;http_pwd&rdquo;: &ldquo;&rdquo;,
            &ldquo;host_header_rewrite&rdquo;: &ldquo;&rdquo;,
            &ldquo;headers&rdquo;: null
        }
    ],
    &ldquo;https&rdquo;: [
        {
            &ldquo;name&rdquo;: &ldquo;https&rdquo;,
            &ldquo;host&rdquo;: &ldquo;new&rdquo;,
            &ldquo;use_encryption&rdquo;: false,
            &ldquo;use_compression&rdquo;: false,
            &ldquo;group&rdquo;: &ldquo;&rdquo;,
            &ldquo;group_key&rdquo;: &ldquo;&rdquo;,
            &ldquo;proxy_protocol_version&rdquo;: &ldquo;&rdquo;,
            &ldquo;local_ip&rdquo;: &ldquo;&rdquo;,
            &ldquo;local_port&rdquo;: 9999,
            &ldquo;plugin&rdquo;: &ldquo;&rdquo;,
            &ldquo;plugin_params&rdquo;: null,
            &ldquo;health_check_type&rdquo;: &ldquo;&rdquo;,
            &ldquo;health_check_timeout_s&rdquo;: 0,
            &ldquo;health_check_max_failed&rdquo;: 0,
            &ldquo;health_check_interval_s&rdquo;: 0,
            &ldquo;health_check_url&rdquo;: &ldquo;&rdquo;,
            &ldquo;custom_domains&rdquo;: &ldquo;&rdquo;,
            &ldquo;sub_domain&rdquo;: &ldquo;&rdquo;
        }
    ],
    &ldquo;stcp&rdquo;: [
        {
            &ldquo;name&rdquo;: &ldquo;stcp&rdquo;,
            &ldquo;host&rdquo;: &ldquo;new&rdquo;,
            &ldquo;use_encryption&rdquo;: false,
            &ldquo;use_compression&rdquo;: false,
            &ldquo;group&rdquo;: &ldquo;&rdquo;,
            &ldquo;group_key&rdquo;: &ldquo;&rdquo;,
            &ldquo;proxy_protocol_version&rdquo;: &ldquo;&rdquo;,
            &ldquo;local_ip&rdquo;: &ldquo;&rdquo;,
            &ldquo;local_port&rdquo;: 9999,
            &ldquo;plugin&rdquo;: &ldquo;&rdquo;,
            &ldquo;plugin_params&rdquo;: null,
            &ldquo;health_check_type&rdquo;: &ldquo;&rdquo;,
            &ldquo;health_check_timeout_s&rdquo;: 0,
            &ldquo;health_check_max_failed&rdquo;: 0,
            &ldquo;health_check_interval_s&rdquo;: 0,
            &ldquo;health_check_url&rdquo;: &ldquo;&rdquo;,
            &ldquo;sk&rdquo;: &ldquo;&rdquo;
        }
    ],
    &ldquo;xtcp&rdquo;: [
        {
            &ldquo;name&rdquo;: &ldquo;xtcp&rdquo;,
            &ldquo;host&rdquo;: &ldquo;new&rdquo;,
            &ldquo;use_encryption&rdquo;: false,
            &ldquo;use_compression&rdquo;: false,
            &ldquo;group&rdquo;: &ldquo;&rdquo;,
            &ldquo;group_key&rdquo;: &ldquo;&rdquo;,
            &ldquo;proxy_protocol_version&rdquo;: &ldquo;&rdquo;,
            &ldquo;local_ip&rdquo;: &ldquo;&rdquo;,
            &ldquo;local_port&rdquo;: 9999,
            &ldquo;plugin&rdquo;: &ldquo;&rdquo;,
            &ldquo;plugin_params&rdquo;: null,
            &ldquo;health_check_type&rdquo;: &ldquo;&rdquo;,
            &ldquo;health_check_timeout_s&rdquo;: 0,
            &ldquo;health_check_max_failed&rdquo;: 0,
            &ldquo;health_check_interval_s&rdquo;: 0,
            &ldquo;health_check_url&rdquo;: &ldquo;&rdquo;,
            &ldquo;sk&rdquo;: &ldquo;&rdquo;
        }
    ]
}</p>

<ol>
<li>查询用户所有访问者列表</li>
</ol>

<p><a href="http://localhost:8888/v1/users/5/hosts/new/visitors">http://localhost:8888/v1/users/5/hosts/new/visitors</a></p>

<p>{
    &ldquo;stcp&rdquo;: [
        {
            &ldquo;name&rdquo;: &ldquo;stcp&rdquo;,
            &ldquo;host&rdquo;: &ldquo;new&rdquo;,
            &ldquo;use_encryption&rdquo;: false,
            &ldquo;use_compression&rdquo;: false,
            &ldquo;server_name&rdquo;: &ldquo;&rdquo;,
            &ldquo;bind_addr&rdquo;: &ldquo;&rdquo;,
            &ldquo;bind_port&rdquo;: 9999,
            &ldquo;sk&rdquo;: &ldquo;&rdquo;
        }
    ],
    &ldquo;xtcp&rdquo;: [
        {
            &ldquo;name&rdquo;: &ldquo;xtcp&rdquo;,
            &ldquo;host&rdquo;: &ldquo;new&rdquo;,
            &ldquo;use_encryption&rdquo;: false,
            &ldquo;use_compression&rdquo;: false,
            &ldquo;server_name&rdquo;: &ldquo;&rdquo;,
            &ldquo;bind_addr&rdquo;: &ldquo;&rdquo;,
            &ldquo;bind_port&rdquo;: 9999,
            &ldquo;sk&rdquo;: &ldquo;&rdquo;
        }
    ]
}</p>

<ol>
<li>修改代理或访问者配置</li>
</ol>

<p>访问者</p>

<p><a href="http://localhost:8888/v1/users/5/hosts/new/visitors/visitornew/xtcp">http://localhost:8888/v1/users/5/hosts/new/visitors/visitornew/xtcp</a></p>

<p>{
    &ldquo;bind_port&rdquo;: 9999
}</p>

<p>代理</p>

<p><a href="http://localhost:8888/v1/users/5/hosts/new/proxies/proxynew/tcp">http://localhost:8888/v1/users/5/hosts/new/proxies/proxynew/tcp</a></p>

<p>{
    &ldquo;local_port&rdquo;: 8888,
    &ldquo;remote_port&rdquo;: 5555
}</p>

<p>16.删除代理或访问者配置</p>

<p><a href="http://localhost:8888/v1/users/5/hosts/new/proxies/proxynew">http://localhost:8888/v1/users/5/hosts/new/proxies/proxynew</a></p>

<p>表
sqlite&gt; select * from proxy;
5|new|proxynew|tcp|1|cmVtb3RlX3BvcnQgPSA3Nzc3CmxvY2FsX3BvcnQgPSA5OTk5Cg==
5|new|proxynew|http|1|bG9jYWxfcG9ydCA9IDk5OTkK
5|new|proxynew|https|1|bG9jYWxfcG9ydCA9IDk5OTkK
5|new|proxynew|stcp|1|bG9jYWxfcG9ydCA9IDk5OTkK
5|new|proxynew|xtcp|1|bG9jYWxfcG9ydCA9IDk5OTkK
5|new|visitornew|xtcp|0|YmluZF9wb3J0ID0gOTk5OQo=
5|new|visitornew|stcp|0|YmluZF9wb3J0ID0gOTk5OQo=
sqlite&gt; select * from proxy;
5|new|visitornew|xtcp|0|YmluZF9wb3J0ID0gOTk5OQo=
5|new|visitornew|stcp|0|YmluZF9wb3J0ID0gOTk5OQo=
sqlite&gt;</p>

<p><a href="http://localhost:8888/v1/users/5/hosts/new/visitors/visitornew">http://localhost:8888/v1/users/5/hosts/new/visitors/visitornew</a></p>

<p>sqlite&gt; select * from proxy;
5|new|visitornew|xtcp|0|YmluZF9wb3J0ID0gOTk5OQo=
5|new|visitornew|stcp|0|YmluZF9wb3J0ID0gOTk5OQo=
sqlite&gt; select * from proxy;
sqlite&gt;</p>

            </div>
            
            <div style="border: 1px dashed #e0e0e0; margin-bottom: 15px; padding: 10px 10px 10px 10px; background-color: #fffeee; background-repeat: no-repeat; background-attachment: scroll; background-position: 1% 50%; -moz-background-size: auto auto; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;">
                <div>
                    <p style="margin-top:0px;">作者：<a target="_blank" href="http://blog.fatedier.com/">kingjcy</a>
                    <br />本文出处：<a target="_blank" href="https://kingjcy.github.io/post/programe/profrp/profrp/">https://kingjcy.github.io/post/programe/profrp/profrp/</a>
                    <br />
                    文章版权归本人所有，欢迎转载，但未经作者同意必须保留此段声明，且在文章页面明显位置给出原文链接，否则保留追究法律责任的权利。 </p>
                </div>
            </div>

            <aside>
                
                <ul class="list-inline post-tags">
                    
                    <li>
                        <a href="/tags//">
                            <i class="fa fa-tags"></i>
                            
                        </a>
                    </li>
                    
                </ul>

                
                
                <h4 id="real-rels">相关文章</h4>
                <ul class="post-rels" id="real-rels"><li id="li-rels"><a href="/post/golang/go-unsafe/">Go Unsafe</a>&nbsp;&nbsp;<span class="post-date" style="font-size:14px">&nbsp;(2019年12月25日)</span></li><li id="li-rels"><a href="/post/golang/go-text/">Go Text</a>&nbsp;&nbsp;<span class="post-date" style="font-size:14px">&nbsp;(2019年12月25日)</span></li><li id="li-rels"><a href="/post/golang/go-plugin/">Go Plugin</a>&nbsp;&nbsp;<span class="post-date" style="font-size:14px">&nbsp;(2019年12月25日)</span></li><li id="li-rels"><a href="/post/golang/go-mine/">Go Mine</a>&nbsp;&nbsp;<span class="post-date" style="font-size:14px">&nbsp;(2019年12月25日)</span></li><li id="li-rels"><a href="/post/golang/go-internal/">Go Internal</a>&nbsp;&nbsp;<span class="post-date" style="font-size:14px">&nbsp;(2019年12月25日)</span></li><li id="li-rels"><a href="/post/golang/go-index/">Go Index</a>&nbsp;&nbsp;<span class="post-date" style="font-size:14px">&nbsp;(2019年12月25日)</span></li><li id="li-rels"><a href="/post/golang/go-image/">Go Image</a>&nbsp;&nbsp;<span class="post-date" style="font-size:14px">&nbsp;(2019年12月25日)</span></li><li id="li-rels"><a href="/post/golang/go-html/">Go Html</a>&nbsp;&nbsp;<span class="post-date" style="font-size:14px">&nbsp;(2019年12月25日)</span></li><li id="li-rels"><a href="/post/golang/go-hash/">Go Hash</a>&nbsp;&nbsp;<span class="post-date" style="font-size:14px">&nbsp;(2019年12月25日)</span></li><li id="li-rels"><a href="/post/golang/go-go/">Go Go</a>&nbsp;&nbsp;<span class="post-date" style="font-size:14px">&nbsp;(2019年12月25日)</span></li></ul>
            </aside>
                
            
            <footer>
                <nav>
                    <ul class="pager">

                        
                        <li class="previous"><a href="/post/algorithm/gossip/"><span aria-hidden="true">&larr;</span> Prev</a></li>
                        

                        <li><a href="/post/">All Posts</a></li>

                        
                        <li class="next"><a href="/post/golang/go-database/">Next <span aria-hidden="true">&rarr;</span></a></li>
                        

                    </ul>
                </nav>
            </footer>

        </article>
    </div>
    <div class="col-md-4">
        
<aside>
        <div class="toc panel panel-default hidden-xs hidden-sm affix-top" data-spy="affix" data-offset-top="125" data-offset-bottom="300">
            <div class="panel-heading">
                <h2 class="panel-title">Catalog</h2>
            </div>

            <nav id="TableOfContents">
<ul>
<li><a href="#frps-ini">frps.ini</a>
<ul>
<li>
<ul>
<li><a href="#用户">用户</a></li>
<li><a href="#机器">机器</a></li>
<li><a href="#代理">代理</a></li>
</ul></li>
<li><a href="#web-管理功能">Web 管理功能</a>
<ul>
<li><a href="#用户管理">用户管理</a></li>
<li><a href="#机器管理">机器管理</a></li>
<li><a href="#代理管理">代理管理</a></li>
<li><a href="#统计数据查看">统计数据查看</a></li>
</ul></li>
</ul></li>
<li><a href="#分页api的设计">分页api的设计</a>
<ul>
<li>
<ul>
<li>
<ul>
<li>
<ul>
<li><a href="#查询所有用户信息">查询所有用户信息</a></li>
</ul></li>
</ul></li>
</ul></li>
</ul></li>
<li><a href="#实现">实现</a></li>
</ul>
</nav>
        </div>
</aside>

    </div>
</div>

</div>
<hr>

<footer class="container copy">
    <p>&copy; 2020  kingjcy blog </p>
	<p>Powered by <a href="https://gohugo.io" target="_blank">Hugo</a></p>
</footer>

<script>hljs.initHighlightingOnLoad();</script>

<script>
var _hmt = _hmt || [];
(function() {
  var hm = document.createElement("script");
  hm.src = "//hm.baidu.com/hm.js?ace3ec99de96c4080ead1eb8d52db3b3";
  var s = document.getElementsByTagName("script")[0]; 
  s.parentNode.insertBefore(hm, s);
})();
</script>

<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-92600390-2', 'auto');
  ga('send', 'pageview');
</script>
</body>
</html>


<!DOCTYPE html>

<html lang="zh-cn">
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1">
<meta name="author" content="fatedier">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="description" content="我们都知道，ＩＰ是由四段数字组成，在此，我们先来了解一下3类常用的ＩＰ
A类IP段　0.0.0.0 到127.255.255.255 B类IP段　128.0.0.0 到191.255.255.255 C类IP段　192.0.0.0 到223.255.255.255 Ａ类的默认子网掩码　255.0.0.0　一个子网最多可以容纳1677万多台电脑 Ｂ类的默认子网掩码　255.255.0.0　一个子网最多可以容纳6万台电脑 Ｃ类的默认子网掩码　255.255.255.0　一个子网最多可以容纳254台电脑  我以前认为，要想把一些电脑搞在同一网段，只要ＩＰ的前三段一样就可以了，今天，我才知道我错了。如果照我这说的话，一个子网就只能容纳254台电脑？真是有点笑话。我们来说详细看看吧。
要想在同一网段，只要网络标识相同就可以了，那要怎么看网络标识呢？首先要做的是把每段的ＩＰ转换为二进制。
把子网掩码切换至二进制，我们会发现，所有的子网掩码是由一串连续的1和一串连续的0组成的（一共4段，每段8位，一共32位数）。
255.0.0.0　11111111.00000000.00000000.00000000 255.255.0.0　11111111.11111111.00000000.00000000 255.255.255.0　11111111.11111111.11111111.00000000  这是A/B/C三类默认子网掩码的二进制形式，其实，还有好多种子网掩码，只要是一串连续的1和一串连续的0就可以了（每段都是8位）。如11111111.11111111.11111000.00000000，这也是一段合法的子网掩码。子网掩码决定的是一个子网的计算机数目，计算机公式是2的m次方，其中，我们可以把m看到是后面的多少颗0，这个也是我们常用的表达方式10.44.0.0/16后面这个16就是m，代表16个0，ip开始10.44.0.0-10.44.255.254。
如255.255.255.0转换成二进制，那就是11111111.11111111.11111111.00000000，后面有8颗0，那m就是 8，255.255.255.0这个子网掩码可以容纳2的8次方（台）电脑，也就是256台，但是有两个ＩＰ是不能用的，那就是最后一段不能为0和255，减去这两台，就是254台。
我们再来做一个。255.255.248.0这个子网掩码可以最多容纳多少台电脑？ 计算方法：
　把将其转换为二进制的四段数字（每段要是8位，如果是0，可以写成8个0，也就是00000000） 11111111.1111111.11111000.00000000 然后，数数后面有几颗0，一共是有11颗，那就是2的11次方，等于2048，这个子网掩码最多可以容纳2048台电脑。 正常都是结合ip来表示网段则是10.44.0.0/11
一个子网最多可以容纳多少台电脑你会算了吧，下面我们来个逆向算法的题。
一个公司有530台电脑，组成一个对等局域网，子网掩码设多少最合适？
　首先，无疑，530台电脑用Ｂ类ＩＰ最合适（Ａ类不用说了，太多，Ｃ类又不够，肯定是Ｂ类），但是B类默认的子网掩码是255.255.0.0，可以容纳6万台电脑，显然不太合适，那子网掩码设多少合适呢？我们先来列个公式。
　2的m次方＝560
　首先，我们确定2一定是大于8次方的，因为我们知道2的8次方是256，也就是Ｃ类ＩＰ的最大容纳电脑的数目，我们从9次方一个一个试2的9次方是 512，不到560，2的10次方是1024，看来2的10次方最合适了。子网掩码一共由32位组成，已确定后面10位是0了，那前面的22位就是1，最 合适的子网掩码就是：11111111.11111111.11111100.00000000，转换成10进制，那就是255.255.252.0。
分配和计算子网掩码你会了吧，下面，我们来看看ＩＰ地址的网段。 相信好多人都和偶一样，认为ＩＰ只要前三段相同，就是在同一网段了，其实，不是这样的，同样，我样把ＩＰ的每一段转换为一个二进制数，这里就拿ＩＰ：192.168.0.1，子网掩码：255.255.255.0做实验吧。
　192.168.0.1 11000000.10101000.00000000.00000001 （这里说明一下，和子网掩码一样，每段8位，不足8位的，前面加0补齐。）
　ＩＰ　11000000.10101000.00000000.00000001 子网掩码　11111111.11111111.11111111.00000000
　在这里，向大家说一下到底怎么样才算同一网段。 要想在同一网段，必需做到网络标识相同，那网络标识怎么算呢？各类ＩＰ的网络标识算法都是不一样的。Ａ类的，只算第一段。Ｂ类，只算第一、二段。Ｃ类，算第一、二、三段。 算法只要把ＩＰ和子网掩码的每位数AND就可以了。
　AND方法：0和1＝0　0和0＝0　1和1＝1 如：And　192.">
<meta property="og:url" content="https://kingjcy.github.io/"><meta property="og:type" content="article">
<meta property="og:title" content="Ip - kingjcy blog"><meta property="og:site_name" content="kingjcy blog">

<title>
    
    Ip
    
</title>

<link rel="stylesheet" href="/onlyone/onlyone.css">
<link rel="shortcut icon" href="/assets/favicon.ico">
<script src="/onlyone/onlyone.js"></script>
<link rel="alternate" type="application/rss+xml" title="RSS" href="/index.xml">
</head>
<body>


<div class="container">
    <header class="nav">
        <nav class="navbar navbar-default">
            <div class="container-fluid">
                <div class="navbar-header">
                    <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar-collapse">
                        <span class="sr-only">Toggle navigation</span>
                        <span class="icon-bar"></span>
                        <span class="icon-bar"></span>
                        <span class="icon-bar"></span>
                    </button>
                    <a class="navbar-brand" href="/">kingjcy blog</a>
                </div>

                <div class="collapse navbar-collapse" id="navbar-collapse">
                    <ul class="nav navbar-nav">
                        <li><a href="/categories/技术文章/">技术文章</a></li>
                        <li><a href="/categories/读书笔记/">读书笔记</a></li>
                        <li><a href="/categories/人生感悟/">人生感悟</a></li>
                        <li><a href="/tags/">分类</a></li>
                        <li><a href="/about/">关于我</a></li>
                        <li>
                            <form method="get" style="padding: 8px" action="https://www.google.com/search" target="_blank">
                                <input type="hidden" name="sitesearch" value="kingjcy.github.io"/>
                                <input type="text" class="form-control" name="q" placeholder="Press enter to search">
                            </form>
                        </li>
                    </ul>

                </div>
            </div>
        </nav>
    </header>


<div class="row">
    <div class="col-md-8">
        <article class="post single">

            <header>
                <div class="post-date">
                    2014年10月16日 
                </div>
                <h1 class="post-title">Ip</h1>
            </header>

            <div class="post-content">
                <p>我们都知道，ＩＰ是由四段数字组成，在此，我们先来了解一下3类常用的ＩＰ</p>

<pre><code>A类IP段　 0.0.0.0 到127.255.255.255  
B类IP段　 128.0.0.0 到191.255.255.255  
C类IP段　 192.0.0.0 到223.255.255.255  


Ａ类的默认子网掩码　255.0.0.0　　　　一个子网最多可以容纳1677万多台电脑
Ｂ类的默认子网掩码　255.255.0.0　　　　一个子网最多可以容纳6万台电脑
Ｃ类的默认子网掩码　255.255.255.0　　　一个子网最多可以容纳254台电脑
</code></pre>

<p>我以前认为，要想把一些电脑搞在同一网段，只要ＩＰ的前三段一样就可以了，今天，我才知道我错了。如果照我这说的话，一个子网就只能容纳254台电脑？真是有点笑话。我们来说详细看看吧。</p>

<p>要想在同一网段，只要网络标识相同就可以了，那要怎么看网络标识呢？首先要做的是把每段的ＩＰ转换为二进制。</p>

<p>把子网掩码切换至二进制，我们会发现，所有的子网掩码是由一串连续的1和一串连续的0组成的（一共4段，每段8位，一共32位数）。</p>

<pre><code>255.0.0.0　　　11111111.00000000.00000000.00000000
255.255.0.0　　11111111.11111111.00000000.00000000
255.255.255.0　11111111.11111111.11111111.00000000
</code></pre>

<p>这是A/B/C三类默认子网掩码的二进制形式，其实，还有好多种子网掩码，只要是一串连续的1和一串连续的0就可以了（每段都是8位）。如11111111.11111111.11111000.00000000，这也是一段合法的子网掩码。子网掩码决定的是一个子网的计算机数目，计算机公式是2的m次方，其中，我们可以把m看到是后面的多少颗0，这个也是我们常用的表达方式10.44.0.0/16后面这个16就是m，代表16个0，ip开始10.44.0.0-10.44.255.254。</p>

<p>如255.255.255.0转换成二进制，那就是11111111.11111111.11111111.00000000，后面有8颗0，那m就是 8，255.255.255.0这个子网掩码可以容纳2的8次方（台）电脑，也就是256台，但是有两个ＩＰ是不能用的，那就是最后一段不能为0和255，减去这两台，就是254台。</p>

<p>我们再来做一个。255.255.248.0这个子网掩码可以最多容纳多少台电脑？
　　
计算方法：</p>

<p>　　把将其转换为二进制的四段数字（每段要是8位，如果是0，可以写成8个0，也就是00000000）
　　11111111.1111111.11111000.00000000
　　然后，数数后面有几颗0，一共是有11颗，那就是2的11次方，等于2048，这个子网掩码最多可以容纳2048台电脑。
    正常都是结合ip来表示网段则是10.44.0.0/11</p>

<p>一个子网最多可以容纳多少台电脑你会算了吧，下面我们来个逆向算法的题。</p>

<p>一个公司有530台电脑，组成一个对等局域网，子网掩码设多少最合适？</p>

<p>　　首先，无疑，530台电脑用Ｂ类ＩＰ最合适（Ａ类不用说了，太多，Ｃ类又不够，肯定是Ｂ类），但是B类默认的子网掩码是255.255.0.0，可以容纳6万台电脑，显然不太合适，那子网掩码设多少合适呢？我们先来列个公式。</p>

<p>　　2的m次方＝560</p>

<p>　  首先，我们确定2一定是大于8次方的，因为我们知道2的8次方是256，也就是Ｃ类ＩＰ的最大容纳电脑的数目，我们从9次方一个一个试2的9次方是 512，不到560，2的10次方是1024，看来2的10次方最合适了。子网掩码一共由32位组成，已确定后面10位是0了，那前面的22位就是1，最 合适的子网掩码就是：11111111.11111111.11111100.00000000，转换成10进制，那就是255.255.252.0。</p>

<p>分配和计算子网掩码你会了吧，下面，我们来看看ＩＰ地址的网段。
　</p>

<p>相信好多人都和偶一样，认为ＩＰ只要前三段相同，就是在同一网段了，其实，不是这样的，同样，我样把ＩＰ的每一段转换为一个二进制数，这里就拿ＩＰ：192.168.0.1，子网掩码：255.255.255.0做实验吧。</p>

<p>　　192.168.0.1
　　11000000.10101000.00000000.00000001
　　（这里说明一下，和子网掩码一样，每段8位，不足8位的，前面加0补齐。）</p>

<p>　　ＩＰ　　　　11000000.10101000.00000000.00000001
　　子网掩码　　11111111.11111111.11111111.00000000</p>

<p>　　在这里，向大家说一下到底怎么样才算同一网段。
　　要想在同一网段，必需做到网络标识相同，那网络标识怎么算呢？各类ＩＰ的网络标识算法都是不一样的。Ａ类的，只算第一段。Ｂ类，只算第一、二段。Ｃ类，算第一、二、三段。
算法只要把ＩＰ和子网掩码的每位数AND就可以了。</p>

<p>　　AND方法：0和1＝0　0和0＝0　1和1＝1
　　如：And　192.168.0.1，255.255.255.0，先转换为二进制，然后AND每一位
　　ＩＰ　　　　　　11000000.10101000.00000000.00000001
　　子网掩码　　　　11111111.11111111.11111111.00000000
　　得出AND结果　11000000.10101000.00000000.00000000
　　转换为十进制192.168.0.0，这就是网络标识，
　　再将子网掩码反取，也就是00000000.00000000.00000000.11111111，与IP　AND
　　得出结果00000000.00000000.00000000.00000001，转换为10进制，即0.0.0.1，
　　这0.0.0.1就是主机标识。要想在同一网段，必需做到网络标识一样。</p>

<p>　　我们再来看看这个改为默认子网掩码的Ｂ类ＩＰ
　　如ＩＰ：188.188.0.111，188.188.5.222，子网掩码都设为255.255.254.0，在同一网段吗？
　　先将这些转换成二进制
　　188.188.0.111　10111100.10111100.00000000.01101111
　　188.188.5.222　10111100.10111100.00000101.11011010
　　255.255.254.0　11111111.11111111.11111110.00000000
　　分别AND，得
　　10111100.10111100.00000000.00000000
　　10111100.10111100.00000100.00000000
　　网络标识不一样，即不在同一网段。
　　判断是不是在同一网段，你会了吧，下面，我们来点实际的。
　　一个公司有530台电脑，组成一个对等局域网，子网掩码和ＩＰ设多少最合适？
　　子网掩码不说了，前面算出结果来了11111111.11111111.11111100.00000000，也就是255.255.252.0
　　我们现在要确定的是ＩＰ如何分配，首先，选一个Ｂ类ＩＰ段，这里就选188.188.x.x吧
　　这样，ＩＰ的前两段确定的，关键是要确定第三段，只要网络标识相同就可以了。我们先来确定网络号。（我们把子网掩码中的1和IP中的?对就起来，0和*对应起来，如下：）
　　255.255.252.0　11111111.11111111.11111100.00000000
　　188.188.x.x　　10111100.10111100.??????<strong>.</strong>******
　　网络标识　　　10111100.10111100.??????00.00000000
　　由此可知，?处随便填（只能用0和1填，不一定全是0和1），我们就用全填0吧，*处随便，这样呢，我们的ＩＰ就是
　 　10111100.10111100.000000<strong>.</strong>****<strong>，一共有530台电脑，ＩＰ的最后一段1～254可以分给254台计算 机，530/254＝2.086，采用进1法，得整数3，这样，我们确定了ＩＰ的第三段要分成三个不同的数字，也就是说，把000000</strong>中的**填三 次数字，只能填1和0，而且每次的数字都不一样，至于填什么，就随我们便了，如00000001，00000010，00000011，转换成二进制，分别是1，2，3，这样，第三段也确定了，这样，就可以把ＩＰ分成188.188.1.y，188.188.2.y，188.188.3.y，y处随便填， 只要在1～254范围之内，并且这530台电脑每台和每台的ＩＰ不一样，就可以了。</p>

<p>　　有人也许会说，既然算法这么麻烦，干脆用Ａ类ＩＰ和Ａ类默认子网掩码得了，偶要告诉你的是，由于Ａ类ＩＰ和Ａ类默认子网掩码的主机数目过大，这样做无疑是大海捞针，如果同时局域网访问量过频繁、过大，会影响效率的，所以，最好设置符合自己的ＩＰ和子网掩码</p>

            </div>
            
            <div style="border: 1px dashed #e0e0e0; margin-bottom: 15px; padding: 10px 10px 10px 10px; background-color: #fffeee; background-repeat: no-repeat; background-attachment: scroll; background-position: 1% 50%; -moz-background-size: auto auto; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;">
                <div>
                    <p style="margin-top:0px;">作者：<a target="_blank" href="http://blog.fatedier.com/">kingjcy</a>
                    <br />本文出处：<a target="_blank" href="https://kingjcy.github.io/post/computerbase/ip/">https://kingjcy.github.io/post/computerbase/ip/</a>
                    <br />
                    文章版权归本人所有，欢迎转载，但未经作者同意必须保留此段声明，且在文章页面明显位置给出原文链接，否则保留追究法律责任的权利。 </p>
                </div>
            </div>

            <aside>
                
                <ul class="list-inline post-tags">
                    
                    <li>
                        <a href="/tags//">
                            <i class="fa fa-tags"></i>
                            
                        </a>
                    </li>
                    
                </ul>

                
                
                <h4 id="real-rels">相关文章</h4>
                <ul class="post-rels" id="real-rels"><li id="li-rels"><a href="/post/golang/go-unsafe/">Go Unsafe</a>&nbsp;&nbsp;<span class="post-date" style="font-size:14px">&nbsp;(2019年12月25日)</span></li><li id="li-rels"><a href="/post/golang/go-text/">Go Text</a>&nbsp;&nbsp;<span class="post-date" style="font-size:14px">&nbsp;(2019年12月25日)</span></li><li id="li-rels"><a href="/post/golang/go-plugin/">Go Plugin</a>&nbsp;&nbsp;<span class="post-date" style="font-size:14px">&nbsp;(2019年12月25日)</span></li><li id="li-rels"><a href="/post/golang/go-mine/">Go Mine</a>&nbsp;&nbsp;<span class="post-date" style="font-size:14px">&nbsp;(2019年12月25日)</span></li><li id="li-rels"><a href="/post/golang/go-internal/">Go Internal</a>&nbsp;&nbsp;<span class="post-date" style="font-size:14px">&nbsp;(2019年12月25日)</span></li><li id="li-rels"><a href="/post/golang/go-index/">Go Index</a>&nbsp;&nbsp;<span class="post-date" style="font-size:14px">&nbsp;(2019年12月25日)</span></li><li id="li-rels"><a href="/post/golang/go-image/">Go Image</a>&nbsp;&nbsp;<span class="post-date" style="font-size:14px">&nbsp;(2019年12月25日)</span></li><li id="li-rels"><a href="/post/golang/go-html/">Go Html</a>&nbsp;&nbsp;<span class="post-date" style="font-size:14px">&nbsp;(2019年12月25日)</span></li><li id="li-rels"><a href="/post/golang/go-hash/">Go Hash</a>&nbsp;&nbsp;<span class="post-date" style="font-size:14px">&nbsp;(2019年12月25日)</span></li><li id="li-rels"><a href="/post/golang/go-go/">Go Go</a>&nbsp;&nbsp;<span class="post-date" style="font-size:14px">&nbsp;(2019年12月25日)</span></li></ul>
            </aside>
                
            
            <footer>
                <nav>
                    <ul class="pager">

                        
                        <li class="previous"><a href="/post/tool/gitandgithub/"><span aria-hidden="true">&larr;</span> Prev</a></li>
                        

                        <li><a href="/post/">All Posts</a></li>

                        
                        <li class="next"><a href="/post/tool/hugo-blog-build/">Next <span aria-hidden="true">&rarr;</span></a></li>
                        

                    </ul>
                </nav>
            </footer>

        </article>
    </div>
    <div class="col-md-4">
        
<aside>
        <div class="toc panel panel-default hidden-xs hidden-sm affix-top" data-spy="affix" data-offset-top="125" data-offset-bottom="300">
            <div class="panel-heading">
                <h2 class="panel-title">Catalog</h2>
            </div>

            
        </div>
</aside>

    </div>
</div>

</div>
<hr>

<footer class="container copy">
    <p>&copy; 2020  kingjcy blog </p>
	<p>Powered by <a href="https://gohugo.io" target="_blank">Hugo</a></p>
</footer>

<script>hljs.initHighlightingOnLoad();</script>

<script>
var _hmt = _hmt || [];
(function() {
  var hm = document.createElement("script");
  hm.src = "//hm.baidu.com/hm.js?ace3ec99de96c4080ead1eb8d52db3b3";
  var s = document.getElementsByTagName("script")[0]; 
  s.parentNode.insertBefore(hm, s);
})();
</script>

<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-92600390-2', 'auto');
  ga('send', 'pageview');
</script>
</body>
</html>


<?xml version="1.0" encoding="utf-8" standalone="yes" ?>
<rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom">
  <channel>
    <title>Keepalived on kingjcy blog</title>
    <link>https://kingjcy.github.io/tags/keepalived/</link>
    <description>Recent content in Keepalived on kingjcy blog</description>
    <generator>Hugo -- gohugo.io</generator>
    <language>zh-CN</language>
    <copyright>Copyright (c) 2020. All rights reserved.</copyright>
    <lastBuildDate>Thu, 19 Sep 2019 15:50:15 +0800</lastBuildDate>
    
	<atom:link href="https://kingjcy.github.io/tags/keepalived/index.xml" rel="self" type="application/rss+xml" />
    
    
    <item>
      <title>高可用 keepalived</title>
      <link>https://kingjcy.github.io/post/middleware/keepalived/</link>
      <pubDate>Thu, 19 Sep 2019 15:50:15 +0800</pubDate>
      
      <guid>https://kingjcy.github.io/post/middleware/keepalived/</guid>
      <description>Keepalived 是运行在 lvs 之上，是一个用于做双机热备（HA）的软件，它的主要功能是实现真实机的故障隔离及负载均衡器间的失败切换，提高系统的可用性。
原理 keepalived是以VRRP协议为实现基础的，VRRP全称Virtual Router Redundancy Protocol，即虚拟路由冗余协议。 虚拟路由冗余协议，可以认为是实现路由器高可用的协议，即将N台提供相同功能的路由器组成一个路由器组，这个组里面有一个master和多个backup，master上面有一个对外提供服务的vip（VIP = Virtual IP Address，虚拟IP地址，该路由器所在局域网内其他机器的默认路由为该vip），master会发组播，当backup收不到VRRP包时就认为master宕掉了，这时就需要根据VRRP的优先级来选举一个backup当master。这样的话就可以保证路由器的高可用了。 keepalived主要有三个模块，分别是core、check和VRRP。core模块为keepalived的核心，负责主进程的启动、维护以及全局配置文件的加载和解析。check负责健康检查，包括常见的各种检查方式。VRRP模块是来实现VRRP协议的。可以在配置中很直观的体现。
安装 cd /usr/local tar -zxvf keepalived-1.2.15.tar.gz cd keepalived-1.2.15  执行配置命令
./configure --prefix=/usr/local/keepalived  编译
make  安装
make install  至此安装成功
安装到系统
5、拷贝执行文件 cp /usr/local/keepalived/sbin/keepalived /usr/sbin/ 6、将init.d文件拷贝到etc下,加入开机启动项 cp /usr/local/keepalived/etc/rc.d/init.d/keepalived /etc/init.d/keepalived 7、将keepalived文件拷贝到etc下，加入网卡配置 cp /usr/local/keepalived/etc/sysconfig/keepalived /etc/sysconfig/ 8、创建keepalived文件夹 mkdir -p /etc/keepalived 9、将keepalived配置文件拷贝到etc下 cp /usr/local/keepalived/etc/keepalived/keepalived.conf /etc/keepalived/keepalived.conf 10、添加可执行权限 chmod +x /etc/init.d/keepalived  启动
/etc/init.d/keepalived start/stop/restart  配置
主配置
! Configuration File for keepalived global_defs { -----------------全局配置 notification_email { 574209987@qq.</description>
    </item>
    
  </channel>
</rss>